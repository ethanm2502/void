;// bundle: page___ebcbf5ab6b95bf642472d2e1562df073_m
;// files: history.js/jquery.history.js, utilities/robloxAds.js, VotingPanel.js, Games/constants.js, Games/gamesPage.js, Games/filters.js, Games/search.js, Games/settings.js, Games/state.js, Games/legacy.js, Games/ads.js, Games/gamesList.js, jquery/lazyLoadImage/jquery.lazyload.js, jquery/lazyLoadImage/lazyLoadImg.js, Games/GameDetailReferral.js, Games/GamesPageInteraction.js, Games/SponsoredGames/SponsoredGames.js, ~/Generated/js/Roblox_TranslationResources_Feature_ShopDialogResources_en_us_standard.js, utilities/popover.js, captcha/constants/captchaConstants.js, captcha/captchaLogger.js, captcha/captchaService.js, ~/viewapp/widgets/captcha/captcha.js, ~/viewapp/widgets/captcha/constants/captchaConstants.js, ~/viewapp/widgets/captcha/directives/captchaDirective.js, ~/viewapp/widgets/captcha/services/captchaInterface.js, Tracking/FormEvents.js, ~/viewapp/common/formEvents/formEvents.js, ~/viewapp/common/formEvents/directives/formInteraction.js, ~/viewapp/common/formEvents/directives/formContext.js, ~/viewapp/common/constants/urlConstants.js, ~/viewapp/common/constants/phoneConstants.js, ~/viewapp/common/services/phoneService.js, ~/viewapp/common/directives/toggleLoadingDirective.js, ~/viewapp/common/components/systemFeedback/systemFeedbackComponent.js, ~/viewapp/widgets/login/login.js, ~/Generated/js/Roblox_TranslationResources_Authentication_LoginResources_en_us_standard.js, ~/viewapp/widgets/login/constants/loginConstants.js, ~/viewapp/widgets/login/services/loginLanguageService.js, ~/viewapp/widgets/login/services/loginService.js, ~/viewapp/widgets/login/controllers/verifyEmailController.js, ~/viewapp/widgets/login/controllers/loginFormController.js, ~/viewapp/widgets/login/components/loginPageComponent.js, ~/viewapp/widgets/login/components/loginFormComponent.js, Navigation/ShopAmazon.js, GenericConfirmation.js, utilities/dialog.js, common/deviceMeta.js

;// history.js/jquery.history.js
typeof JSON!="object"&&(JSON={}),function(){"use strict";function i(n){return n<10?"0"+n:n}function f(n){return o.lastIndex=0,o.test(n)?'"'+n.replace(o,function(n){var t=s[n];return typeof t=="string"?t:"\\u"+("0000"+n.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+n+'"'}function r(i,e){var s,l,h,a,v=n,c,o=e[i];o&&typeof o=="object"&&typeof o.toJSON=="function"&&(o=o.toJSON(i)),typeof t=="function"&&(o=t.call(e,i,o));switch(typeof o){case"string":return f(o);case"number":return isFinite(o)?String(o):"null";case"boolean":case"null":return String(o);case"object":if(!o)return"null";if(n+=u,c=[],Object.prototype.toString.apply(o)==="[object Array]"){for(a=o.length,s=0;s<a;s+=1)c[s]=r(s,o)||"null";return h=c.length===0?"[]":n?"[\n"+n+c.join(",\n"+n)+"\n"+v+"]":"["+c.join(",")+"]",n=v,h}if(t&&typeof t=="object")for(a=t.length,s=0;s<a;s+=1)typeof t[s]=="string"&&(l=t[s],h=r(l,o),h&&c.push(f(l)+(n?": ":":")+h));else for(l in o)Object.prototype.hasOwnProperty.call(o,l)&&(h=r(l,o),h&&c.push(f(l)+(n?": ":":")+h));return h=c.length===0?"{}":n?"{\n"+n+c.join(",\n"+n)+"\n"+v+"}":"{"+c.join(",")+"}",n=v,h}}typeof Date.prototype.toJSON!="function"&&(Date.prototype.toJSON=function(){return isFinite(this.valueOf())?this.getUTCFullYear()+"-"+i(this.getUTCMonth()+1)+"-"+i(this.getUTCDate())+"T"+i(this.getUTCHours())+":"+i(this.getUTCMinutes())+":"+i(this.getUTCSeconds())+"Z":null},String.prototype.toJSON=Number.prototype.toJSON=Boolean.prototype.toJSON=function(){return this.valueOf()});var e=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,o=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,n,u,s={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},t;typeof JSON.stringify!="function"&&(JSON.stringify=function(i,f,e){var o;if(n="",u="",typeof e=="number")for(o=0;o<e;o+=1)u+=" ";else typeof e=="string"&&(u=e);if(t=f,!f||typeof f=="function"||typeof f=="object"&&typeof f.length=="number")return r("",{"":i});throw new Error("JSON.stringify");}),typeof JSON.parse!="function"&&(JSON.parse=function(n,t){function r(n,i){var f,e,u=n[i];if(u&&typeof u=="object")for(f in u)Object.prototype.hasOwnProperty.call(u,f)&&(e=r(u,f),e!==undefined?u[f]=e:delete u[f]);return t.call(n,i,u)}var i;if(n=String(n),e.lastIndex=0,e.test(n)&&(n=n.replace(e,function(n){return"\\u"+("0000"+n.charCodeAt(0).toString(16)).slice(-4)})),/^[\],:{}\s]*$/.test(n.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,"")))return i=eval("("+n+")"),typeof t=="function"?r({"":i},""):i;throw new SyntaxError("JSON.parse");})}(),function(n,t){"use strict";var i=n.History=n.History||{},r=n.jQuery;if(typeof i.Adapter!="undefined")throw new Error("History.js Adapter has already been loaded...");i.Adapter={bind:function(n,t,i){r(n).bind(t,i)},trigger:function(n,t,i){r(n).trigger(t,i)},extractEventData:function(n,i,r){return i&&i.originalEvent&&i.originalEvent[n]||r&&r[n]||t},onDomLoad:function(n){r(n)}},typeof i.init!="undefined"&&i.init()}(window),function(n){"use strict";var r=n.document,f=n.setTimeout||f,e=n.clearTimeout||e,u=n.setInterval||u,i=n.History=n.History||{};if(typeof i.initHtml4!="undefined")throw new Error("History.js HTML4 Support has already been loaded...");i.initHtml4=function(){if(typeof i.initHtml4.initialized!="undefined")return!1;i.initHtml4.initialized=!0,i.enabled=!0,i.savedHashes=[],i.isLastHash=function(n){var r=i.getHashByIndex(),t;return t=n===r,t},i.isHashEqual=function(n,t){return n=encodeURIComponent(n).replace(/%25/g,"%"),t=encodeURIComponent(t).replace(/%25/g,"%"),n===t},i.saveHash=function(n){return i.isLastHash(n)?!1:(i.savedHashes.push(n),!0)},i.getHashByIndex=function(n){var t=null;return t=typeof n=="undefined"?i.savedHashes[i.savedHashes.length-1]:n<0?i.savedHashes[i.savedHashes.length+n]:i.savedHashes[n],t},i.discardedHashes={},i.discardedStates={},i.discardState=function(n,t,r){var f=i.getHashByState(n),u;return u={discardedState:n,backState:r,forwardState:t},i.discardedStates[f]=u,!0},i.discardHash=function(n,t,r){var u={discardedHash:n,backState:r,forwardState:t};return i.discardedHashes[n]=u,!0},i.discardedState=function(n){var r=i.getHashByState(n),t;return t=i.discardedStates[r]||!1,t},i.discardedHash=function(n){return i.discardedHashes[n]||!1},i.recycleState=function(n){var t=i.getHashByState(n);return i.discardedState(n)&&delete i.discardedStates[t],!0},i.emulated.hashChange&&(i.hashChangeInit=function(){i.checkerFunction=null;var f="",s,t,e,o,h=Boolean(i.getHash());return i.isInternetExplorer()?(s="historyjs-iframe",t=r.createElement("iframe"),t.setAttribute("id",s),t.setAttribute("src","#"),t.style.display="none",r.body.appendChild(t),t.contentWindow.document.open(),t.contentWindow.document.close(),e="",o=!1,i.checkerFunction=function(){if(o)return!1;o=!0;var u=i.getHash(),r=i.getHash(t.contentWindow.document);return u!==f?(f=u,r!==u&&(e=r=u,t.contentWindow.document.open(),t.contentWindow.document.close(),t.contentWindow.document.location.hash=i.escapeHash(u)),i.Adapter.trigger(n,"hashchange")):r!==e&&(e=r,h&&r===""?i.back():i.setHash(r,!1)),o=!1,!0}):i.checkerFunction=function(){var t=i.getHash()||"";return t!==f&&(f=t,i.Adapter.trigger(n,"hashchange")),!0},i.intervalList.push(u(i.checkerFunction,i.options.hashChangeInterval)),!0},i.Adapter.onDomLoad(i.hashChangeInit)),i.emulated.pushState&&(i.onHashChange=function(t){var e=t&&t.newURL||i.getLocationHref(),u=i.getHashByUrl(e),r=null,o=null,s=null,f;return i.isLastHash(u)?(i.busy(!1),!1):(i.doubleCheckComplete(),i.saveHash(u),u&&i.isTraditionalAnchor(u)?(i.Adapter.trigger(n,"anchorchange"),i.busy(!1),!1):(r=i.extractState(i.getFullUrl(u||i.getLocationHref()),!0),i.isLastSavedState(r)?(i.busy(!1),!1):(o=i.getHashByState(r),f=i.discardedState(r),f?(i.getHashByIndex(-2)===i.getHashByState(f.forwardState)?i.back(!1):i.forward(!1),!1):(i.pushState(r.data,r.title,encodeURI(r.url),!1),!0))))},i.Adapter.bind(n,"hashchange",i.onHashChange),i.pushState=function(t,r,u,f){if(u=encodeURI(u).replace(/%25/g,"%"),i.getHashByUrl(u))throw new Error("History.js does not support states with fragment-identifiers (hashes/anchors).");if(f!==!1&&i.busy())return i.pushQueue({scope:i,callback:i.pushState,args:arguments,queue:f}),!1;i.busy(!0);var e=i.createStateObject(t,r,u),o=i.getHashByState(e),s=i.getState(!1),h=i.getHashByState(s),c=i.getHash(),l=i.expectedStateId==e.id;return i.storeState(e),i.expectedStateId=e.id,i.recycleState(e),i.setTitle(e),o===h?(i.busy(!1),!1):(i.saveState(e),l||i.Adapter.trigger(n,"statechange"),!i.isHashEqual(o,c)&&!i.isHashEqual(o,i.getShortUrl(i.getLocationHref()))&&i.setHash(o,!1),i.busy(!1),!0)},i.replaceState=function(t,r,u,f){if(u=encodeURI(u).replace(/%25/g,"%"),i.getHashByUrl(u))throw new Error("History.js does not support states with fragment-identifiers (hashes/anchors).");if(f!==!1&&i.busy())return i.pushQueue({scope:i,callback:i.replaceState,args:arguments,queue:f}),!1;i.busy(!0);var e=i.createStateObject(t,r,u),s=i.getHashByState(e),o=i.getState(!1),h=i.getHashByState(o),c=i.getStateByIndex(-2);return i.discardState(o,e,c),s===h?(i.storeState(e),i.expectedStateId=e.id,i.recycleState(e),i.setTitle(e),i.saveState(e),i.Adapter.trigger(n,"statechange"),i.busy(!1)):i.pushState(e.data,e.title,e.url,!1),!0}),i.emulated.pushState&&i.getHash()&&!i.emulated.hashChange&&i.Adapter.onDomLoad(function(){i.Adapter.trigger(n,"hashchange")})},typeof i.init!="undefined"&&i.init()}(window),function(n,t){"use strict";var e=n.console||t,r=n.document,o=n.navigator,f=n.sessionStorage||!1,h=n.setTimeout,c=n.clearTimeout,l=n.setInterval,a=n.clearInterval,u=n.JSON,v=n.alert,i=n.History=n.History||{},s=n.history;try{f.setItem("TEST","1"),f.removeItem("TEST")}catch(y){f=!1}if(u.stringify=u.stringify||u.encode,u.parse=u.parse||u.decode,typeof i.init!="undefined")throw new Error("History.js Core has already been loaded...");i.init=function(){return typeof i.Adapter=="undefined"?!1:(typeof i.initCore!="undefined"&&i.initCore(),typeof i.initHtml4!="undefined"&&i.initHtml4(),!0)},i.initCore=function(){if(typeof i.initCore.initialized!="undefined")return!1;if(i.initCore.initialized=!0,i.options=i.options||{},i.options.hashChangeInterval=i.options.hashChangeInterval||100,i.options.safariPollInterval=i.options.safariPollInterval||500,i.options.doubleCheckInterval=i.options.doubleCheckInterval||500,i.options.disableSuid=i.options.disableSuid||!1,i.options.storeInterval=i.options.storeInterval||1e3,i.options.busyDelay=i.options.busyDelay||250,i.options.debug=i.options.debug||!1,i.options.initialTitle=i.options.initialTitle||r.title,i.options.html4Mode=i.options.html4Mode||!1,i.options.delayInit=i.options.delayInit||!1,i.intervalList=[],i.clearAllIntervals=function(){var n,t=i.intervalList;if(typeof t!="undefined"&&t!==null){for(n=0;n<t.length;n++)a(t[n]);i.intervalList=null}},i.debug=function(){(i.options.debug||!1)&&i.log.apply(i,arguments)},i.log=function(){var s=typeof e!="undefined"&&typeof e.log!="undefined"&&typeof e.log.apply!="undefined",t=r.getElementById("log"),n,f,h,o,i;for(s?(o=Array.prototype.slice.call(arguments),n=o.shift(),typeof e.debug!="undefined"?e.debug.apply(e,[n,o]):e.log.apply(e,[n,o])):n="\n"+arguments[0]+"\n",f=1,h=arguments.length;f<h;++f){if(i=arguments[f],typeof i=="object"&&typeof u!="undefined")try{i=u.stringify(i)}catch(c){}n+="\n"+i+"\n"}return t?(t.value+=n+"\n-----\n",t.scrollTop=t.scrollHeight-t.clientHeight):s||v(n),!0},i.getInternetExplorerMajorVersion=function(){return i.getInternetExplorerMajorVersion.cached=typeof i.getInternetExplorerMajorVersion.cached!="undefined"?i.getInternetExplorerMajorVersion.cached:function(){for(var n=3,t=r.createElement("div"),i=t.getElementsByTagName("i");(t.innerHTML="<!--[if gt IE "+ ++n+"]><i></i><![endif]-->")&&i[0];);return n>4?n:!1}()},i.isInternetExplorer=function(){return i.isInternetExplorer.cached=typeof i.isInternetExplorer.cached!="undefined"?i.isInternetExplorer.cached:Boolean(i.getInternetExplorerMajorVersion())},i.emulated=i.options.html4Mode?{pushState:!0,hashChange:!0}:{pushState:!Boolean(n.history&&n.history.pushState&&n.history.replaceState&&!/ Mobile\/([1-7][a-z]|(8([abcde]|f(1[0-8]))))/i.test(o.userAgent)&&!/AppleWebKit\/5([0-2]|3[0-2])/i.test(o.userAgent)),hashChange:Boolean(!("onhashchange"in n||"onhashchange"in r)||i.isInternetExplorer()&&i.getInternetExplorerMajorVersion()<8)},i.enabled=!i.emulated.pushState,i.bugs={setHash:Boolean(!i.emulated.pushState&&o.vendor==="Apple Computer, Inc."&&/AppleWebKit\/5([0-2]|3[0-3])/.test(o.userAgent)),safariPoll:Boolean(!i.emulated.pushState&&o.vendor==="Apple Computer, Inc."&&/AppleWebKit\/5([0-2]|3[0-3])/.test(o.userAgent)),ieDoubleCheck:Boolean(i.isInternetExplorer()&&i.getInternetExplorerMajorVersion()<8),hashEscape:Boolean(i.isInternetExplorer()&&i.getInternetExplorerMajorVersion()<7)},i.isEmptyObject=function(n){for(var t in n)if(n.hasOwnProperty(t))return!1;return!0},i.cloneObject=function(n){var i,t;return n?(i=u.stringify(n),t=u.parse(i)):t={},t},i.getRootUrl=function(){var n=r.location.protocol+"//"+(r.location.hostname||r.location.host);return(r.location.port||!1)&&(n+=":"+r.location.port),n+="/",n},i.getBaseHref=function(){var i=r.getElementsByTagName("base"),t=null,n="";return i.length===1&&(t=i[0],n=t.href.replace(/[^\/]+$/,"")),n=n.replace(/\/+$/,""),n&&(n+="/"),n},i.getBaseUrl=function(){return i.getBaseHref()||i.getBasePageUrl()||i.getRootUrl()},i.getPageUrl=function(){var r=i.getState(!1,!1),t=(r||{}).url||i.getLocationHref(),n;return n=t.replace(/\/+$/,"").replace(/[^\/]+$/,function(n){return/\./.test(n)?n:n+"/"}),n},i.getBasePageUrl=function(){return i.getLocationHref().replace(/[#\?].*/,"").replace(/[^\/]+$/,function(n){return/[^\/]$/.test(n)?"":n}).replace(/\/+$/,"")+"/"},i.getFullUrl=function(n,t){var r=n,u=n.substring(0,1);return t=typeof t=="undefined"?!0:t,/[a-z]+\:\/\//.test(n)||(r=u==="/"?i.getRootUrl()+n.replace(/^\/+/,""):u==="#"?i.getPageUrl().replace(/#.*/,"")+n:u==="?"?i.getPageUrl().replace(/[\?#].*/,"")+n:t?i.getBaseUrl()+n.replace(/^(\.\/)+/,""):i.getBasePageUrl()+n.replace(/^(\.\/)+/,"")),r.replace(/\#$/,"")},i.getShortUrl=function(n){var t=n,r=i.getBaseUrl(),u=i.getRootUrl();return i.emulated.pushState&&(t=t.replace(r,"")),t=t.replace(u,"/"),i.isTraditionalAnchor(t)&&(t="./"+t),t=t.replace(/^(\.\/)+/g,"./").replace(/\#$/,""),t},i.getLocationHref=function(n){return n=n||r,n.URL===n.location.href?n.location.href:n.location.href===decodeURIComponent(n.URL)?n.URL:n.location.hash&&decodeURIComponent(n.location.href.replace(/^[^#]+/,""))===n.location.hash?n.location.href:n.URL.indexOf("#")==-1&&n.location.href.indexOf("#")!=-1?n.location.href:n.URL||n.location.href},i.store={},i.idToState=i.idToState||{},i.stateToId=i.stateToId||{},i.urlToId=i.urlToId||{},i.storedStates=i.storedStates||[],i.savedStates=i.savedStates||[],i.normalizeStore=function(){i.store.idToState=i.store.idToState||{},i.store.urlToId=i.store.urlToId||{},i.store.stateToId=i.store.stateToId||{}},i.getState=function(n,t){typeof n=="undefined"&&(n=!0),typeof t=="undefined"&&(t=!0);var r=i.getLastSavedState();return!r&&t&&(r=i.createStateObject()),n&&(r=i.cloneObject(r),r.url=r.cleanUrl||r.url),r},i.getIdByState=function(n){var t=i.extractId(n.url),r;if(!t)if(r=i.getStateString(n),typeof i.stateToId[r]!="undefined")t=i.stateToId[r];else if(typeof i.store.stateToId[r]!="undefined")t=i.store.stateToId[r];else{for(;;)if(t=+new Date+String(Math.random()).replace(/\D/g,""),typeof i.idToState[t]=="undefined"&&typeof i.store.idToState[t]=="undefined")break;i.stateToId[r]=t,i.idToState[t]=n}return t},i.normalizeState=function(n){var t,r;return(n&&typeof n=="object"||(n={}),typeof n.normalized!="undefined")?n:(n.data&&typeof n.data=="object"||(n.data={}),t={},t.normalized=!0,t.title=n.title||"",t.url=i.getFullUrl(n.url?n.url:i.getLocationHref()),t.hash=i.getShortUrl(t.url),t.data=i.cloneObject(n.data),t.id=i.getIdByState(t),t.cleanUrl=t.url.replace(/\??\&_suid.*/,""),t.url=t.cleanUrl,r=!i.isEmptyObject(t.data),(t.title||r)&&i.options.disableSuid!==!0&&(t.hash=i.getShortUrl(t.url).replace(/\??\&_suid.*/,""),/\?/.test(t.hash)||(t.hash+="?"),t.hash+="&_suid="+t.id),t.hashedUrl=i.getFullUrl(t.hash),(i.emulated.pushState||i.bugs.safariPoll)&&i.hasUrlDuplicate(t)&&(t.url=t.hashedUrl),t)},i.createStateObject=function(n,t,r){var u={data:n,title:t,url:r};return u=i.normalizeState(u),u},i.getStateById=function(n){n=String(n);return i.idToState[n]||i.store.idToState[n]||t},i.getStateString=function(n){var t,r,f;return t=i.normalizeState(n),r={data:t.data,title:n.title,url:n.url},f=u.stringify(r),f},i.getStateId=function(n){var t,r;return t=i.normalizeState(n),r=t.id,r},i.getHashByState=function(n){var t,r;return t=i.normalizeState(n),r=t.hash,r},i.extractId=function(n){var r,t,u,i;return i=n.indexOf("#")!=-1?n.split("#")[0]:n,t=/(.*)\&_suid=([0-9]+)$/.exec(i),u=t?t[1]||n:n,r=t?String(t[2]||""):"",r||!1},i.isTraditionalAnchor=function(n){return!/[\/\?\.]/.test(n)},i.extractState=function(n,t){var r=null,u,f;return t=t||!1,u=i.extractId(n),u&&(r=i.getStateById(u)),r||(f=i.getFullUrl(n),u=i.getIdByUrl(f)||!1,u&&(r=i.getStateById(u)),!r&&t&&!i.isTraditionalAnchor(n)&&(r=i.createStateObject(null,null,f))),r},i.getIdByUrl=function(n){return i.urlToId[n]||i.store.urlToId[n]||t},i.getLastSavedState=function(){return i.savedStates[i.savedStates.length-1]||t},i.getLastStoredState=function(){return i.storedStates[i.storedStates.length-1]||t},i.hasUrlDuplicate=function(n){var r=!1,t;return t=i.extractState(n.url),r=t&&t.id!==n.id,r},i.storeState=function(n){return i.urlToId[n.url]=n.id,i.storedStates.push(i.cloneObject(n)),n},i.isLastSavedState=function(n){var t=!1,r,u,f;return i.savedStates.length&&(r=n.id,u=i.getLastSavedState(),f=u.id,t=r===f),t},i.saveState=function(n){return i.isLastSavedState(n)?!1:(i.savedStates.push(i.cloneObject(n)),!0)},i.getStateByIndex=function(n){var t=null;return t=typeof n=="undefined"?i.savedStates[i.savedStates.length-1]:n<0?i.savedStates[i.savedStates.length+n]:i.savedStates[n],t},i.getCurrentIndex=function(){var n=null;return n=i.savedStates.length<1?0:i.savedStates.length-1,n},i.getHash=function(n){var r=i.getLocationHref(n),t;return t=i.getHashByUrl(r),t},i.unescapeHash=function(n){var t=i.normalizeHash(n);return t=decodeURIComponent(t),t},i.normalizeHash=function(n){return n.replace(/[^#]*#/,"").replace(/#.*/,"")},i.setHash=function(n,t){var u,f;return t!==!1&&i.busy()?(i.pushQueue({scope:i,callback:i.setHash,args:arguments,queue:t}),!1):(i.busy(!0),u=i.extractState(n,!0),u&&!i.emulated.pushState?i.pushState(u.data,u.title,u.url,!1):i.getHash()!==n&&(i.bugs.setHash?(f=i.getPageUrl(),i.pushState(null,null,f+"#"+n,!1)):r.location.hash=n),i)},i.escapeHash=function(t){var r=i.normalizeHash(t);return r=n.encodeURIComponent(r),i.bugs.hashEscape||(r=r.replace(/\%21/g,"!").replace(/\%26/g,"&").replace(/\%3D/g,"=").replace(/\%3F/g,"?")),r},i.getHashByUrl=function(n){var t=String(n).replace(/([^#]*)#?([^#]*)#?(.*)/,"$2");return t=i.unescapeHash(t),t},i.setTitle=function(n){var t=n.title,u;t||(u=i.getStateByIndex(0),u&&u.url===n.url&&(t=u.title||i.options.initialTitle));try{r.getElementsByTagName("title")[0].innerHTML=t.replace("<","&lt;").replace(">","&gt;").replace(" & "," &amp; ")}catch(f){}return r.title=t,i},i.queues=[],i.busy=function(n){if(typeof n!="undefined"?i.busy.flag=n:typeof i.busy.flag=="undefined"&&(i.busy.flag=!1),!i.busy.flag){c(i.busy.timeout);var t=function(){var n,r,u;if(!i.busy.flag)for(n=i.queues.length-1;n>=0;--n)(r=i.queues[n],r.length!==0)&&(u=r.shift(),i.fireQueueItem(u),i.busy.timeout=h(t,i.options.busyDelay))};i.busy.timeout=h(t,i.options.busyDelay)}return i.busy.flag},i.busy.flag=!1,i.fireQueueItem=function(n){return n.callback.apply(n.scope||i,n.args||[])},i.pushQueue=function(n){return i.queues[n.queue||0]=i.queues[n.queue||0]||[],i.queues[n.queue||0].push(n),i},i.queue=function(n,t){return typeof n=="function"&&(n={callback:n}),typeof t!="undefined"&&(n.queue=t),i.busy()?i.pushQueue(n):i.fireQueueItem(n),i},i.clearQueue=function(){return i.busy.flag=!1,i.queues=[],i},i.stateChanged=!1,i.doubleChecker=!1,i.doubleCheckComplete=function(){return i.stateChanged=!0,i.doubleCheckClear(),i},i.doubleCheckClear=function(){return i.doubleChecker&&(c(i.doubleChecker),i.doubleChecker=!1),i},i.doubleCheck=function(n){return i.stateChanged=!1,i.doubleCheckClear(),i.bugs.ieDoubleCheck&&(i.doubleChecker=h(function(){return i.doubleCheckClear(),i.stateChanged||n(),!0},i.options.doubleCheckInterval)),i},i.safariStatePoll=function(){var r=i.extractState(i.getLocationHref()),t;if(!i.isLastSavedState(r))return t=r,t||(t=i.createStateObject()),i.Adapter.trigger(n,"popstate"),i},i.back=function(n){return n!==!1&&i.busy()?(i.pushQueue({scope:i,callback:i.back,args:arguments,queue:n}),!1):(i.busy(!0),i.doubleCheck(function(){i.back(!1)}),s.go(-1),!0)},i.forward=function(n){return n!==!1&&i.busy()?(i.pushQueue({scope:i,callback:i.forward,args:arguments,queue:n}),!1):(i.busy(!0),i.doubleCheck(function(){i.forward(!1)}),s.go(1),!0)},i.go=function(n,t){var r;if(n>0)for(r=1;r<=n;++r)i.forward(t);else{if(!(n<0))throw new Error("History.go: History.go requires a positive or negative integer passed.");for(r=-1;r>=n;--r)i.back(t)}return i},i.emulated.pushState){var p=function(){};i.pushState=i.pushState||p,i.replaceState=i.replaceState||p}else i.onPopState=function(t,r){var e=!1,u=!1,o,f;return i.doubleCheckComplete(),o=i.getHash(),o?(f=i.extractState(o||i.getLocationHref(),!0),f?i.replaceState(f.data,f.title,f.url,!1):(i.Adapter.trigger(n,"anchorchange"),i.busy(!1)),i.expectedStateId=!1,!1):(e=i.Adapter.extractEventData("state",t,r)||!1,u=e?i.getStateById(e):i.expectedStateId?i.getStateById(i.expectedStateId):i.extractState(i.getLocationHref()),u||(u=i.createStateObject(null,null,i.getLocationHref())),i.expectedStateId=!1,i.isLastSavedState(u)?(i.busy(!1),!1):(i.storeState(u),i.saveState(u),i.setTitle(u),i.Adapter.trigger(n,"statechange"),i.busy(!1),!0))},i.Adapter.bind(n,"popstate",i.onPopState),i.pushState=function(t,r,u,f){if(i.getHashByUrl(u)&&i.emulated.pushState)throw new Error("History.js does not support states with fragement-identifiers (hashes/anchors).");if(f!==!1&&i.busy())return i.pushQueue({scope:i,callback:i.pushState,args:arguments,queue:f}),!1;i.busy(!0);var e=i.createStateObject(t,r,u);return i.isLastSavedState(e)?i.busy(!1):(i.storeState(e),i.expectedStateId=e.id,s.pushState(e.id,e.title,e.url),i.Adapter.trigger(n,"popstate")),!0},i.replaceState=function(t,r,u,f){if(i.getHashByUrl(u)&&i.emulated.pushState)throw new Error("History.js does not support states with fragement-identifiers (hashes/anchors).");if(f!==!1&&i.busy())return i.pushQueue({scope:i,callback:i.replaceState,args:arguments,queue:f}),!1;i.busy(!0);var e=i.createStateObject(t,r,u);return i.isLastSavedState(e)?i.busy(!1):(i.storeState(e),i.expectedStateId=e.id,s.replaceState(e.id,e.title,e.url),i.Adapter.trigger(n,"popstate")),!0};if(f){try{i.store=u.parse(f.getItem("History.store"))||{}}catch(w){i.store={}}i.normalizeStore()}else i.store={},i.normalizeStore();i.Adapter.bind(n,"unload",i.clearAllIntervals),i.saveState(i.storeState(i.extractState(i.getLocationHref(),!0))),f&&(i.onUnload=function(){var n,t,r;try{n=u.parse(f.getItem("History.store"))||{}}catch(e){n={}}n.idToState=n.idToState||{},n.urlToId=n.urlToId||{},n.stateToId=n.stateToId||{};for(t in i.idToState)i.idToState.hasOwnProperty(t)&&(n.idToState[t]=i.idToState[t]);for(t in i.urlToId)i.urlToId.hasOwnProperty(t)&&(n.urlToId[t]=i.urlToId[t]);for(t in i.stateToId)i.stateToId.hasOwnProperty(t)&&(n.stateToId[t]=i.stateToId[t]);i.store=n,i.normalizeStore(),r=u.stringify(n);try{f.setItem("History.store",r)}catch(o){if(o.code!==DOMException.QUOTA_EXCEEDED_ERR)throw o;f.length&&(f.removeItem("History.store"),f.setItem("History.store",r))}},i.intervalList.push(l(i.onUnload,i.options.storeInterval)),i.Adapter.bind(n,"beforeunload",i.onUnload),i.Adapter.bind(n,"unload",i.onUnload)),i.emulated.pushState||(i.bugs.safariPoll&&i.intervalList.push(l(i.safariStatePoll,i.options.safariPollInterval)),(o.vendor==="Apple Computer, Inc."||(o.appCodeName||"")==="Mozilla")&&(i.Adapter.bind(n,"hashchange",function(){i.Adapter.trigger(n,"popstate")}),i.getHash()&&i.Adapter.onDomLoad(function(){i.Adapter.trigger(n,"hashchange")})))},(!i.options||!i.options.delayInit)&&i.init()}(window);

;// utilities/robloxAds.js
"use strict";var Roblox=Roblox||{};Roblox.AdsHelper=Roblox.AdsHelper||{},Roblox.AdsLibrary={},Roblox.AdsLibrary.adsIdList=["Skyscraper-Abp-Left","Skyscraper-Abp-Right","Leaderboard-Abp","GamePageAdDiv1","GamePageAdDiv2","GamePageAdDiv3","ProfilePageAdDiv1","ProfilePageAdDiv2"],Roblox.AdsLibrary.adsParameters={"Skyscraper-Abp-Left":{element:$("#Skyscraper-Abp-Left"),template:null,fitTwoAds:!0,fitOneAd:!1,isSkyscraper:!0},"Skyscraper-Abp-Right":{element:$("#Skyscraper-Abp-Right"),tempalte:null,fitTwoAds:!0,fitOneAd:!0,isSkyscraper:!0},"Leaderboard-Abp":{element:$("#Leaderboard-Abp"),tempalte:null,fitTwoAds:!0,fitOneAd:!0,isLeaderboard:!0},GamePageAdDiv1:{element:$("#GamePageAdDiv1"),template:null,isPageAd:!0},GamePageAdDiv2:{element:$("#GamePageAdDiv2"),template:null,isPageAd:!0},GamePageAdDiv3:{element:$("#GamePageAdDiv3"),template:null,isPageAd:!0},ProfilePageAdDiv1:{element:$("#ProfilePageAdDiv1"),template:null,isPageAd:!0},ProfilePageAdDiv2:{element:$("#ProfilePageAdDiv2"),template:null,isPageAd:!0}},Roblox.AdsHelper.AdRefresher=function(){function c(n){return!n||!$.trim($(n).html())}function h(n){t.push(n)}function s(){return googletag.pubadsReady}function r(n){var u,f,e,i;typeof n=="undefined"&&(n=v),u=!1;for(f in t){if(e="#"+t[f]+" [data-js-adtype]",i=$(e),typeof i=="undefined")return;if(i.attr("data-js-adtype")==="iframead")o(i);else if(i.attr("data-js-adtype")==="gptAd")if(s())u=!0;else if(n>0){setTimeout(function(){r(--n)},y);break}}u&&googletag.cmd.push(function(){googletag.pubads().refresh()})}function o(n){var i=n.attr("src"),r,u,t;typeof i=="string"&&(r=i.indexOf("?")<0?"?":"&",u=i+r+"nocache="+(new Date).getMilliseconds().toString(),typeof n[0]!="undefined")&&(t=n[0].contentDocument,t===undefined&&(t=n[0].contentWindow),t.location.href!=="about:blank"&&t.location.replace(u))}function n(n,t,i){i.length&&c(i)&&(i.append(n),r())}function b(){for(var u=$(window).width(),f,r,t,i=0;i<Roblox.AdsLibrary.adsIdList.length;i++)r=Roblox.AdsLibrary.adsIdList[i],t=Roblox.AdsLibrary.adsParameters[r],t&&!t.template&&(f=t.element,t.template=f.html());for(i=0;i<Roblox.AdsLibrary.adsIdList.length;i++)(r=Roblox.AdsLibrary.adsIdList[i],t=Roblox.AdsLibrary.adsParameters[r],t)&&(t.isSkyscraper?u>=e&&t.fitTwoAds?n(t.template,r,t.element):u<e&&u>=l?t.fitOneAd?n(t.template,r,t.element):t.element.empty():t.element.empty():t.isLeaderboard?u<p?t.element.empty():n(t.template,r,t.element):t.isPageAd&&(u<w?t.element.empty():n(t.template,r,t.element)))}var t=[],i=20,u=970,f=160,p=728,y=100,v=16,e=$("[data-max-width-for-two-ads]").attr("data-max-width-for-two-ads")||u+f*2+48-i,l=$("[data-max-width-for-one-ads]").attr("data-max-width-for-one-ads")||u+f+24-i,a=1024,w=a-i;return{registerAd:h,refreshAds:r,adjustAdsFitScreen:b,getAds:n}}(),Roblox.AdsHelper.DynamicAdCreator=function(){function n(){var n=$(".dynamic-ad").filter(".unpopulated");n.each(function(n,t){var i=$(t),u=i.attr("data-ad-slot"),f=parseInt(i.attr("data-ad-width")),e=parseInt(i.attr("data-ad-height")),r=i.children(".ad-slot").attr("id");googletag.cmd.push(function(){var n=googletag.defineSlot(u,[f,e],r).addService(googletag.pubads());googletag.display(r),googletag.pubads().refresh([n])}),i.removeClass("unpopulated")})}return{populateNewAds:n}}(),$(function(){$(window).resize(function(){Roblox.AdsHelper.AdRefresher.adjustAdsFitScreen()})});

;// VotingPanel.js
var Roblox=Roblox||{};Roblox.Voting=function(){var f=function(n,t){var i="/games/votingservice/"+t;$.ajax({url:i,success:function(t){n.replaceWith(t)}})},e=function(){$(".users-vote .upvote").unbind().click(function(){i($(this),!0)}),$(".users-vote .downvote").unbind().click(function(){i($(this),!1)});var t=parseInt($(".voting-panel").data("total-up-votes")),r=parseInt($(".voting-panel").data("total-down-votes"));n(t,r)},i=function(n,i){var e=$(".voting-panel").data("user-authenticated");if(!e){u("GuestUser");return}var o=$(".voting-panel").data("target-id"),r="/voting/vote?assetId="+o+"&vote=",f=$(".voting-panel").data("vote-url");f&&(r=f),n.hasClass("selected")||n.find("i").hasClass("selected")||n.find(".icon-like, .icon-dislike").hasClass("selected")?t(r,null):t(r,i)},t=function(n,t){$(".voting-panel .loading").show(),$.ajax({type:"POST",url:n+t,success:o,error:s})},o=function(t){var o=$(".icon-like").length;if($(".voting-panel .loading").hide(),t.Success){r(t.Model.UpVotes,t.Model.DownVotes);var i=$(".voting-panel .upvote"),f=$(".voting-panel .downvote"),e=$(".users-vote");o&&(i=$(".voting-panel .upvote .icon-like"),f=$(".voting-panel .downvote .icon-dislike")),t.Model.UserVote!==null?e.hasClass("has-voted")||e.addClass("has-voted"):e.removeClass("has-voted"),i.hasClass("selected")&&i.removeClass("selected"),f.hasClass("selected")&&f.removeClass("selected"),t.Model.UserVote!==null&&(t.Model.UserVote?i.addClass("selected"):f.addClass("selected")),n(t.Model.UpVotes,t.Model.DownVotes)}else u(t.ModalType)},s=function(){$(".voting-panel .loading").hide()},n=function(n,t,i){var e=i||$("#voting-section"),r,u,f;isNaN(n)||isNaN(t)||(r=n===0?0:t===0?100:Math.floor(n/(n+t)*100),r>100&&(r=100),u=e.find(".vote-container"),f=u.find(".vote-background"),u.find(".vote-percentage").css("width",r+"%"),t>0?f.addClass("has-votes"):f.removeClass("has-votes"))},r=function(t,i){t=Roblox.NumberFormatting.abbreviatedFormat(t),i=Roblox.NumberFormatting.abbreviatedFormat(i),$(".voting-panel .total-upvotes-text").text(t),$(".voting-panel .total-downvotes-text").text(i),$(".voting-panel #vote-up-text").text(t),$(".voting-panel #vote-down-text").text(i),n(t,i)},h=function(n){var t=Roblox.Lang.VotingPanelResources,i=Roblox.Intl&&t&&new Roblox.Intl,r=$("#voting-section"),u=r.data("accountPageUrl"),f=r.data("registerUrl"),o="<a href='"+u+"'>"+t["Label.AccountPageTitle"]+"</a>",s="<a href='"+f+"'>"+t["Label.LoginOrRegisterPageTitle"]+"</a>",e={EmailIsVerified:{titleText:t["Label.EmailVerifiedTitle"],bodyContent:i.f(t["Label.EmailVerifiedMessage"],{accountPageLink:o}),onAccept:function(){window.location.href=u},acceptColor:Roblox.Dialog.green,acceptText:t["Label.Accept"],declineText:t["Label.Decline"],allowHtmlContentInBody:!0},PlayGame:{titleText:t["Label.PlayGameTitle"],bodyContent:t["Label.PlayGameMessage"],showAccept:!1,declineText:t["Label.Ok"]},UseModel:{titleText:t["Label.UseModelTitle"],bodyContent:t["Label.UseModelMessage"],showAccept:!1,declineText:t["Label.Ok"]},InstallPlugin:{titleText:t["Label.InstallPluginTitle"],bodyContent:t["Label.InstallPluginMessage"],showAccept:!1,declineText:t["Label.Ok"]},BuyGamePass:{titleText:t["Label.BuyGamePassTitle"],bodyContent:t["Label.BuyGamePassMessage"],showAccept:!1,declineText:t["Label.Ok"]},FloodCheckThresholdMet:{titleText:t["Label.FloodCheckTitle"],bodyContent:t["Label.FloodCheckMessage"],showAccept:!1,declineText:t["Label.Ok"]},GuestUser:{titleText:t["Label.GuestUserTitle"],bodyContent:"<div>"+t["Label.YouMustLoginToVote"]+"</div><div>"+i.f(t["Label.GuestUserMessage"],{loginOrRegisterPageLink:s})+"</div>",onAccept:function(){window.location.href=f},acceptColor:Roblox.Dialog.green,acceptText:t["Label.Login"],declineText:t["Label.Decline"],allowHtmlContentInBody:!0},Error:{titleText:t["Label.UnknownProblemTitle"],bodyContent:t["Label.UnknownProblemMessage"],showAccept:!1,declineText:t["Label.Ok"]},AssetNotVoteable:{titleText:t["Label.AssetNotVoteableTitle"],bodyContent:t["Label.AssetNotVoteableMessage"],showAccept:!1,declineText:t["Label.Ok"]}};return e[n]||e.Error},u=function(n){n&&Roblox.Dialog.open(h(n))};return{Vote:t,Initialize:e,SetVotes:r,UpdateVoteBar:n,LoadVotingService:f}}();

;// Games/constants.js
"use strict";var Roblox=Roblox||{};Roblox.GamesPageConstants={initialAdHeight:1326,subsequentAdHeight:800,rowHeightIncludingPadding:220,rowHeightOffset:20,numberOfGamesToInitiallyFetchInHScrollMode:14,numberOfGamesToPrefetchAfterInitialFetchInHScrollMode:14,numberOfGamesToInitiallyFetchInMobileHScrollMode:16,numberOfGamesToFetchInVScrollMode:60,maxNumberOfGamesToFetchInHScrollMode:60,numberOfGamesToInitiallyFetchInMultirowsMode:40,numberOfGamesToFetchAfterInitialFetchInMultirowsMode:30,searchState:{on:"on",off:"off"},sortFilters:{sortFilter:"SortFilter",timeFilter:"TimeFilter",genreFilter:"GenreFilter"},sortFilterTypeIds:{popular:1,topFavorite:2,featured:3,myFavorite:5,myRecent:6,experimental:7,topEarning:8,topPaid:9,purchased:10,topRated:11,buildersClub:14,topRetaining:16,friendActivity:17,personalizedByLiked:18,popularInVR:19,popularInCountry:20},timeFilters:{current:0,daily:1,weekly:2,allTime:4},urls:{moreResultsCached:"/games/moreresultscached",moreResultsUncached:"/games/moreresultsuncached"}},Roblox.GamesPageConstants.userSpecificSortFilters=[Roblox.GamesPageConstants.sortFilterTypeIds.myFavorite,Roblox.GamesPageConstants.sortFilterTypeIds.myRecent,Roblox.GamesPageConstants.sortFilterTypeIds.experimental,Roblox.GamesPageConstants.sortFilterTypeIds.purchased,Roblox.GamesPageConstants.sortFilterTypeIds.friendActivity,Roblox.GamesPageConstants.sortFilterTypeIds.personalizedByLiked];

;// Games/gamesPage.js
"use strict";var Roblox=Roblox||{};Roblox.GamesPage=function(){var r=Roblox.GamesPageConstants,t,i,n,f,u={adSpacerClass:"abp-spacer",lastWindowWidth:null,lastWindowHeight:null,lastRightSidebarTop:null,lastScrollTop:0,state:null,settings:null,adjustGamesListsHeights:function(){for(var t=this.getState(),n=0;n<t.gamesListArray.length;n++)t.gamesListArray[n].setHeight()},bindEvents:function(){this.bindResize(),this.bindScroll(),this.bindVotes()},bindHistory:function(){var n=this.handleURLChange.bind(this),t=this.history;t.Adapter.bind(window,"statechange",function(){n()})},bindResize:function(){$(window).on("resize",this.handleResize.bind(this))},bindScroll:function(){$(window).on("scroll",$.proxy(this.handleScroll,this))},bindVotes:function(){var n=this.getGamesPageContainer();if(n&&!Roblox.DeviceFeatureDetection.isTouch)n.find(".game-cards .game-card").on({mouseover:function(){$(this).find(".vote-container .vote-percentage").addClass("hover")},mouseout:function(){$(this).find(".vote-container .vote-percentage").removeClass("hover")}})},calculateNumberOfColumns:function(){var i,f=Roblox.GamesPageConstants,n,t,r=this.getState(),u;n=r.searchState===f.searchState.on?this.getGamesListElements().filter(":visible").last():this.getGamesListElements().filter(":visible").first(),i=n.width(),t=$("<div></div>").addClass("game-card").addClass("hidden"),n.find(".game-cards-grid").append(t),u=t.outerWidth(!0),t.remove(),r.numberOfColumns=Math.floor(i/u)},fetchThumbnails:function(n){var t=this.getSettings(),i=300;$("[data-retry-url]").loadRobloxThumbnails(),t.isGamesThumbnailAsyncEnabled&&Roblox.LazyLoadImg&&Roblox.LazyLoadImg.init(i,n)},getAdSpacer:function(){return $("<div/>").addClass(this.adSpacerClass)},getGamesPageContainer:function(){return n||(n=$("#ResponsiveWrapper")),n},getGamesListElements:function(){return t||(t=this.getGamesListsContainer().find(".games-list-container")),t},getGamesListObject:function(n){for(var i=this.getState(),t=0;t<i.gamesListArray.length;t++)if(i.gamesListArray[t].divId==="GamesListContainer"+n)return i.gamesListArray[t];return null},getGamesListsContainer:function(){return i||(i=$("#GamesListsContainer")),i},getGamesListsContainerHeight:function(){var n=this.getGamesListsContainer();return n&&n.length?parseInt(n.css("min-height")):0},getLeftColumnElement:function(){return $("#GamesPageLeftColumn")},getRightSidebarElement:function(){return $("#GamesPageRightColumnSidebar")},getSettings:function(){return this.settings},getState:function(){return this.state},getURLBasedOnSortFilter:function(n){return $.inArray(n,r.userSpecificSortFilters)!==-1?r.urls.moreResultsUncached:r.urls.moreResultsCached},getURLStringAndObjectFromPageState:function(){var t=Roblox.GamesPage.Filters,n=t.getFiltersFromDOM(),i="?"+$.param(n);return{urlStateString:i,urlStateObject:n}},handleResize:function(){var t=$(window).width(),n=$(window).height(),i=this.getSettings(),r=this.getState();this.updateCarouselButtons(),t>this.lastWindowWidth||n>this.lastWindowHeight?setTimeout(this.handleResizeGrow.bind(this),i.resizeGrowInterval):(t<this.lastWindowWidth||n<this.lastWindowHeight)&&setTimeout(this.handleResizeShrink.bind(this),i.resizeShrinkInterval),this.lastWindowWidth=t,this.lastWindowHeight=n,r.distanceFromBottomAtWhichToLoadMoreGames=n/2},handleResizeGrow:function(){this.adjustGamesListsHeights(),!this.isInMultiViewMode()&&this.shouldLoadMoreGames()&&this.loadGames()},handleResizeShrink:function(){this.isInMultiViewMode()&&this.adjustGamesListsHeights()},handleScroll:function(){var t=Roblox.GamesPageConstants,n=window.scrollY,i=Roblox.GamesPage.Search,r=this.getState();window.scrollY||(n=document.documentElement.scrollTop),this.isInMultiViewMode()||n>this.lastScrollTop&&this.shouldLoadMoreGames()&&(r.searchState===t.searchState.on?i.search():this.loadGames()),this.lastScrollTop=n},handleURLChange:function(){var f=Roblox.AdsHelper.GamesPage,o=Roblox.GamesPage.Filters,n,i=Roblox.GamesPage.Search,t=this.getState(),e=!1,r,u;if((n=this.history.getState().data,!t.areFiltersAlreadyUpdated)&&Object.keys(n).length!==0){if(n.hasOwnProperty("keyword"))t.currentSearchQuery=n.keyword,i.getSearchResultsQueryTextElement().text()!==t.currentSearchQuery&&i.search();else{i.toggleSearch("reset"),t.isURLAlreadyUpdated=!0;for(r in n)o.handleFilterChange(r,n[r]);t.isURLAlreadyUpdated=!1,t.haveGamesBeenFetched&&(e=!0),this.loadInitialGames(e),u=typeof Roblox.DeviceMeta=="function"&&Roblox.DeviceMeta(),u&&u.isIosApp&&setTimeout(function(){$(window).scrollTop(1)},1)}f.checkAdDisplayState(),f.refreshOldAds()}},hideGamesLists:function(){for(var t=this.getState(),n=0;n<t.gamesListArray.length;n++)t.gamesListArray[n].hide();t.numberOfShownGamesLists=0},init:function(){var n=Roblox.AdsHelper.GamesPage;this.initHistory(),this.bindHistory(),this.initSettings(),this.initState(),this.initSubmodules(),this.bindEvents(),document.title=this.getSettings().pageTitle,this.initGamesLists(),this.initURL(),this.saveCurrentDimensions(),this.state.haveGamesBeenFetched||this.handleURLChange(),n.checkAdDisplayState()},initGamesLists:function(){var t,i,r,u,f,n,e,o,s=this.state;this.getGamesListElements().each(function(){t=$(this).attr("id"),i=$(this).data("sortfilter"),r=$(this).data("gamefilter"),u=$(this).data("regionfilter"),f=$(this).data("minbclevel"),e=$(this).data("personalized-universe-id"),o=$(this).data("forcejpegthumbnail"),n=new Roblox.GamesPage.GamesList(t,i,r,u,f,e,o),n.init(),s.gamesListArray.push(n)}),s.gamesListArray[0].isFirst=!0},initHistory:function(){this.history=window.History},initSettings:function(){this.settings=new Roblox.GamesPage.Settings,this.settings.init()},initState:function(){this.state=new Roblox.GamesPage.State},initSubmodules:function(){var n=Roblox.GamesPage.Filters,t=Roblox.GamesPage.Search;t.init(),n.init()},initURL:function(){var n={},t=this.getSettings();t.gamesSearchOnPage&&t.incomingSearchQuery!==""?this.updateURLFromSearchState():(n=this.getURLStringAndObjectFromPageState(),this.history.replaceState(n.urlStateObject,t.pageTitle,n.urlStateString))},isInMultiViewMode:function(){return this.state.isInMultiViewMode},isTouch:function(){return Roblox.DeviceFeatureDetection?Roblox.DeviceFeatureDetection.isTouch:!1},loadGames:function(){for(var t=this.state,n=0;n<t.gamesListArray.length;n++)t.gamesListArray[n].isShown&&t.gamesListArray[n].loadGames()},loadInitialGames:function(n){var t=this.state;Roblox.GamesPage.calculateNumberOfColumns(),this.loadGames(),t.haveGamesBeenFetched=!0,n&&this.refreshAds()},refreshAds:function(){var t=Roblox.AdsHelper.GamesPage,n;t.refreshAds(),n=$("#GamesRightColumn")[0],n&&n.contentWindow&&n.contentWindow.Roblox&&n.contentWindow.Roblox.RightColumnBehavior&&n.contentWindow.Roblox.RightColumnBehavior.refreshAds()},resetDomSelectors:function(){n=null,i=null,t=null,n=null,f=null},resetGamesLists:function(){for(var t=this.state,n=0;n<t.gamesListArray.length;n++)t.gamesListArray[n].reset()},saveCurrentDimensions:function(){var n=this.getRightSidebarElement();this.lastWindowWidth=$(window).width(),this.lastWindowHeight=$(window).height(),n.length&&(this.lastRightSidebarTop=n.position().top)},setInfiniteScroll:function(n){n?(this.getGamesPageContainer().addClass("games-lists-single"),this.getGamesPageContainer().removeClass("games-lists-multiple")):(this.getGamesPageContainer().removeClass("games-lists-single"),this.getGamesPageContainer().addClass("games-lists-multiple"))},shouldLoadMoreGames:function(){var n=this.getState();return $(window).scrollTop()>=$(document).height()-$(window).height()-n.distanceFromBottomAtWhichToLoadMoreGames},showGamesList:function(n){var i=this.getState(),t=this.getGamesListObject(n);t&&(t.show(),i.numberOfShownGamesLists++)},updateCarouselButtons:function(){for(var t=this.getState(),n=0;n<t.gamesListArray.length;n++)t.gamesListArray[n].toggleCarouselButtons()},updateURLFromPageState:function(){var n=this.getURLStringAndObjectFromPageState(),t=this.getSettings();this.state.areFiltersAlreadyUpdated=!0,this.history.pushState(n.urlStateObject,t.pageTitle,n.urlStateString),this.state.areFiltersAlreadyUpdated=!1},updateURLFromSearchState:function(){var n=this.state.currentSearchQuery,t=this.getSettings(),i={keyword:n},r=t.pageTitle,u="?Keyword="+encodeURIComponent(n);this.history.pushState(i,r,u)},updateVotes:function(){var n=$("[data-voting-processed=false]");n.each(function(n,t){var i=$(t),r=i.find(".vote-container"),u=parseInt(r.attr("data-upvotes")),f=parseInt(r.attr("data-downvotes"));Roblox.Voting.UpdateVoteBar(u,f,i),i.attr("data-voting-processed",!0)})}};return $(function(){u.init()}),u}();

;// Games/filters.js
"use strict";var Roblox=Roblox||{};Roblox.GamesPage.Filters=function(){var n=Roblox.GamesPageConstants,t,r,u,f;return{selectorFilterSelected:".rbx-selection-label",sortFiltersForWhichGenreFiltersShouldBeHidden:[],sortFiltersForWhichTimeFiltersShouldBeHidden:[],bindFilterSelectActions:function(){var t,u=this.handleFilterChange.bind(this),r=Roblox.GamesPage,i,n,f=this.getState();this.getFilterElements().each(function(){$(this).on("change",function(){t=$(this).attr("id"),i=$(this).find("select"),n=i&&i.length?$(this).find("option:checked").data("value"):$(this).find("[data-bind='label']").data("value"),n&&t&&(u(t,n),f.isURLAlreadyUpdated||r.updateURLFromPageState(),r.loadInitialGames(!0))})})},bindFilterSelectBehavior:function(){$('[data-toggle="dropdown-menu"]  li').click(function(n){var t=$(n.currentTarget);t.closest(".input-group-btn").find('[data-bind="label"]').data("value",t.data("value")).end().end().trigger("change")}),$('.games-selection [data-toggle="selection"]').change(function(n){var t=$(n.currentTarget),i=$(this).find("option:selected").data("value");t.parent().find('[data-bind="label"]').data("value",i)})},filtersObjectCorrectTimeFilter:function(n){var t=Roblox.GamesPageConstants;typeof n[t.sortFilters.timeFilter]!="undefined"&&n[t.sortFilters.timeFilter]===t.timeFilters.current&&typeof n[t.sortFilters.sortFilter]!="undefined"&&this.isSortFilterNeedingWeeklyDefault(n[t.sortFilters.sortFilter])&&(n[t.sortFilters.timeFilter]=t.timeFilters.weekly)},filtersObjectAppendBC:function(n){var r=this.getSettings(),u=this.getState(),i=u.gamesListArray,t;if(!r.isInMultiViewMode)for(t=0;t<i.length;t++)i[t].isShown&&i[t].minBCLevel===1&&(n.BC=1);return n},getDefaultTimeFilterForSortFilter:function(n,t){var i=Roblox.GamesPageConstants,r=this.getTimeFilterContainer().find(this.selectorFilterSelected).data("default"),u=Roblox.GamesPage.isInMultiViewMode(),f=this.isSortFilterNeedingWeeklyDefault(n);return f?(t===i.timeFilters.current||u)&&(t=i.timeFilters.weekly):(r===i.timeFilters.current||t===i.timeFilters.current)&&(t=r),t},getFiltersContainer:function(){return t||(t=$("#FiltersAndSort")),t},getFilterElements:function(){return $(".games-page-filters .games-page-filter")},getFiltersFromDOM:function(){var n={},t=this.selectorFilterSelected;return this.getFilterElements().each(function(){var i=$(this).attr("id"),r=$(this).find(t).data("value");typeof r!="undefined"&&i&&!$(this).hasClass("hidden")&&(n[i]=r)}),this.filtersObjectCorrectTimeFilter(n),this.filtersObjectAppendBC(n),n},getGenreFilterContainer:function(){return $("#"+n.sortFilters.genreFilter)},getSettings:function(){return Roblox.GamesPage.getSettings()},getFilterElementByType:function(n){var t=Roblox.GamesPageConstants,i=[t.sortFilters.genreFilter,t.sortFilters.sortFilter,t.sortFilters.timeFilter];return $.inArray(n,i)!==-1?$("#"+n):null},getSortFilterContainer:function(){return $("#"+n.sortFilters.sortFilter)},getState:function(){return Roblox.GamesPage.state},getTimeFilterContainer:function(){return $("#"+n.sortFilters.timeFilter)},handleFilterChange:function(n,t){var i=Roblox.GamesPageConstants,r=Roblox.GamesPage;r.resetGamesLists();switch(n){case i.sortFilters.sortFilter:this.toggleFiltersEnabled(t),this.handleSortFilterChange(t);break;case i.sortFilters.timeFilter:this.handleTimeFilterChange(t);break;case i.sortFilters.genreFilter:this.handleGenreFilterChange(t)}this.setFilterGroupButtonValue(n,t)},handleGamesFilterResetClick:function(){var t=Roblox.GamesPage;Roblox.GamesPage.Search.toggleSearch("reset"),this.handleFilterChange("SortFilter","default"),t.updateURLFromPageState(),t.loadInitialGames(!0)},handleGenreFilterChange:function(n){for(var i=this.getState(),t=0;t<i.gamesListArray.length;t++)i.gamesListArray[t].genreId=n},handleSortFilterChange:function(n){var t=Roblox.GamesPage;t.hideGamesLists(),this.showGamesLists(n),this.resetTimeFilter(n)},handleTimeFilterChange:function(n){for(var i=this.getState(),t=0;t<i.gamesListArray.length;t++)i.gamesListArray[t].timeFilter=n},init:function(){var n=Roblox.GamesPageConstants,t,i,r;i=this.getSortFilterContainer().find(this.selectorFilterSelected).data("default"),this.setFilterGroupButtonValue(n.sortFilters.sortFilter,i),t=this.getGenreFilterContainer().find(this.selectorFilterSelected).data("default"),this.setFilterGroupButtonValue(n.sortFilters.genreFilter,t),r=this.getTimeFilterContainer().find(this.selectorFilterSelected).data("default"),this.setFilterGroupButtonValue(n.sortFilters.sortFilter,r),this.initSortFiltersHidden(),this.bindFilterSelectActions(),this.bindFilterSelectBehavior()},initSortFiltersHidden:function(){var n=this.getSortFilterContainer(),t=this.sortFiltersForWhichTimeFiltersShouldBeHidden,i=this.sortFiltersForWhichGenreFiltersShouldBeHidden;n.find("[data-hidetimefilter]").each(function(n,i){t.push($(i).data("value"))}),n.find("[data-hidegenrefilter]").each(function(n,t){i.push($(t).data("value"))})},isSortFilterNeedingWeeklyDefault:function(t){var i=this.getSettings(),r=i.defaultWeeklyRatings,u=i.gamesPageDefaultTopPaidToWeekly;return r&&t===n.sortFilterTypeIds.topRated||u&&t===n.sortFilterTypeIds.topPaid||t===n.sortFilterTypeIds.experimental||t===n.sortFilterTypeIds.buildersClub||t===n.sortFilterTypeIds.topFavorite||t===n.sortFilterTypeIds.topRetaining?!0:!1},resetTimeFilter:function(n){var t=Roblox.GamesPageConstants;this.isSortFilterNeedingWeeklyDefault(n)?this.setFilterGroupButtonValue(t.sortFilters.timeFilter,t.timeFilters.weekly):this.setFilterGroupButtonValue(t.sortFilters.timeFilter,t.timeFilters.current)},setFiltersEnabled:function(n){n?this.getFiltersContainer().removeClass("disabled"):this.getFiltersContainer().addClass("disabled")},setFiltersVisible:function(n){n?(this.getSortFilterContainer().removeClass("hidden"),this.getTimeFilterContainer().removeClass("hidden"),this.getGenreFilterContainer().removeClass("hidden")):(this.getSortFilterContainer().addClass("hidden"),this.getTimeFilterContainer().addClass("hidden"),this.getGenreFilterContainer().addClass("hidden"))},setFilterGroupButtonValue:function(n,t){var u=this.getFilterElementByType(n),i,r,f;if(f=u.find(this.selectorFilterSelected),r=u.find("select"),r&&r.length&&(i=r.find("option").filter(function(){return $(this).data("value")===t}),i&&i.length))return i.attr("selected",!0),f.data("value",i.data("value")),!0;r=u.find("ul.dropdown-menu"),r.length&&(i=r.find("li").filter(function(){return $(this).data("value")===t}),i&&i.length&&f.text(i.text().trim()).data("value",i.data("value")))},showGamesLists:function(n){var t=Roblox.GamesPage,f=this.getSettings(),u=this.getState(),r=f.filterValueToGamesListsIdSuffixMapping,i;if(r.hasOwnProperty(n)){for(u.isInMultiViewMode=!0,i=0;i<r[n].length;i++)t.showGamesList(r[n][i]);t.setInfiniteScroll(!1)}else u.isInMultiViewMode=!1,t.showGamesList(n),t.setInfiniteScroll(!0);t.adjustGamesListsHeights()},toggleFiltersEnabled:function(n){var t=this.getGenreFilterContainer(),i=this.getTimeFilterContainer();$.inArray(n,this.sortFiltersForWhichTimeFiltersShouldBeHidden)!==-1?i.addClass("hidden"):i.removeClass("hidden"),$.inArray(n,this.sortFiltersForWhichGenreFiltersShouldBeHidden)!==-1?t.addClass("hidden"):t.removeClass("hidden"),this.getFiltersContainer().removeClass("loading")}}}();

;// Games/search.js
"use strict";var Roblox=Roblox||{};Roblox.GamesPage.Search=function(){var n,t,i,r,u;return{searchResultsSpacerClass:"abp-spacer",buildSearchRequest:function(n,t){var f=Roblox.AdsHelper.GamesPage,e=Roblox.GamesPage,i=this.getSettings(),u=this.getState(),r=null;return Roblox.ExperimentalMode&&(Roblox.ExperimentalMode.getVariant()!="B"||Roblox.ExperimentalMode.isExperimentalModeEnabled()?Roblox.ExperimentalMode.getVariant()=="A"&&(r=Roblox.ExperimentalMode.loadingExperimental()?!1:!0):r=!0),{StartRows:n,MaxRows:t,IsUserLoggedIn:i.isUserLoggedIn,NumberOfColumns:u.numberOfColumns,IsInHorizontalScrollMode:e.isInMultiViewMode(),DeviceTypeId:i.deviceTypeId,Keyword:u.currentSearchQuery,AdSpan:u.adSpan,AdAlignment:f.calcAdAlignment(),v:2,IsSecure:r,UseFakeResults:i.useFakeResults,SuggestedCorrection:i.suggestedCorrection,SuggestionKeyword:i.suggestionKeyword,SuggestionReplacedKeyword:i.suggestionReplacedKeyword,QueryType:i.queryType,isNewGameTileEnabled:i.isNewGameTileEnabled}},emptySearchResultsGameCards:function(){var t=this.getSettings(),n;n=$("<div/>").addClass(this.searchResultsSpacerClass),this.getSearchResultsGameCardsContainer().empty().append(n),(t.adsHidden||t.inApp)&&n.hide()},emptyExperimentalSearchResultsGameCards:function(){this.getExperimentalSearchResultsGameCardsContainer().empty()},getFilteredKeywordFromResponse:function(n){if(!n)return null;var t=$(n);return!t.length||t.attr("id")!=="keyword"?null:t.text()},getSearchContainer:function(){return n||(n=$("#GamesPageSearch")),n},getSearchResultsContainer:function(){return t||(t=$("#SearchResultsContainer")),t},getSearchResultsGameCardsContainer:function(){return i||(i=$("#search-results-game-cards")),i},getExperimentalSearchResultsGameCardsContainer:function(){return r||(r=$("#experimental-search-results-game-cards")),r},getSearchResultsQueryTextElement:function(){return u||(u=$("#SearchResultsContainer .search-query-text")),u},getSettings:function(){return Roblox.GamesPage.getSettings()},getState:function(){return Roblox.GamesPage.getState()},init:function(){this.initSearchQuery()},initSearchQuery:function(){var t=this.getState(),n=this.getSettings();n.gamesSearchOnPage&&n.incomingSearchQuery&&(t.currentSearchQuery=n.incomingSearchQuery)},isSearchInProgress:function(){return this.getState().currentSearchInProgress},resetDomSelectors:function(){n=undefined,t=undefined,i=undefined,r=undefined,u=undefined},search:function(){var f,e,o,n,t=Roblox.AdsHelper.GamesPage,i=Roblox.GamesPageConstants,r=Roblox.GamesPage,h=this.getSettings(),u=this.getState(),s=h.numGamesToFetchOnSearch,c=r.getURLBasedOnSortFilter();if(this.isSearchInProgress())return!1;this.setSearchInProgress(!0),n=u.currentSearchPage*s,f=n<1,f?Roblox.ExperimentalMode&&Roblox.ExperimentalMode.getVariant()=="A"&&Roblox.ExperimentalMode.loadingExperimental()?(this.emptyExperimentalSearchResultsGameCards(),this.setSearchResultsQueryText(u.currentSearchQuery),this.toggleSearch("on"),r.calculateNumberOfColumns(),t.updateAdSpan(i.initialAdHeight)):(this.emptySearchResultsGameCards(),this.setSearchResultsQueryText(u.currentSearchQuery),this.toggleSearch("on"),r.calculateNumberOfColumns(),t.updateAdSpan(i.initialAdHeight)):t.updateAdSpan(i.subsequentAdHeight),o=this.buildSearchRequest(n,s),e=this.showSearchResults.bind(this,n),$.get(c,o,e)},setSearchInProgress:function(n){var i=this.getSearchResultsContainer(),t=this.getState();n?t.currentSearchInProgress||(i.addClass("search-pending"),t.currentSearchInProgress=!0):(i.removeClass("search-pending"),t.currentSearchInProgress=!1)},setSearchResultsQueryText:function(n){this.getSearchResultsQueryTextElement().text(n)},setSearchStateOff:function(){var t=Roblox.GamesPageConstants,n=Roblox.GamesPage.Filters,i=this.getState();i.searchState=t.searchState.off,n.setFiltersVisible(!0),n.setFiltersEnabled(!0),this.getSearchResultsQueryTextElement().text(""),this.getSearchResultsContainer().removeClass("search-pending"),Roblox.AdsHelper.GamesPage.checkAdDisplayState()},setSearchStateOn:function(){var r=Roblox.GamesPageConstants,t=Roblox.GamesPage.Filters,n=Roblox.GamesPage,i=this.getState();i.searchState=r.searchState.on,t.setFiltersVisible(!1),t.setFiltersEnabled(!1),n.hideGamesLists(),this.showSearchResultsContainer(),i.isInMultiViewMode=!1,n.setInfiniteScroll(!0),n.updateURLFromSearchState()},showSearchResults:function(n,t){var f=Roblox.AdsHelper.GamesPage,e,h=n<1,u=Roblox.GamesPage,i=0,o=this.getSearchResultsGameCardsContainer(),c=this.getExperimentalSearchResultsGameCardsContainer(),s=this.getSettings(),l=this.getState(),a="<strong>"+s.zeroResults+"</strong>",r=$("<div></div>"),v;Roblox.ExperimentalMode&&Roblox.ExperimentalMode.getVariant()=="B"&&!Roblox.ExperimentalMode.isExperimentalModeEnabled()&&(a="<span class='secure-results-empty'><strong>"+s.zeroResults+". See more results by clicking<span class='icon-experimental-gray1'></span>above.</strong></span>"),t&&(i=$(t).find(".game-card-container").length),i?(r.append(t),l.currentSearchPage+=1):h&&(r.append(a),e=this.getFilteredKeywordFromResponse(t),e&&this.setSearchResultsQueryText(e)),Roblox.ExperimentalMode&&Roblox.ExperimentalMode.getVariant()=="A"?Roblox.ExperimentalMode.loadingExperimental()?c.append(r.children()):o.append(r.children()):o.append(r.children()),Roblox.ExperimentalMode&&Roblox.ExperimentalMode.getVariant()=="A"&&Roblox.ExperimentalMode.loadingExperimental()?Roblox.SponsoredGames.getSponsoredGames(c):Roblox.SponsoredGames.getSponsoredGames(o),f.checkAdDisplayState(),this.setSearchInProgress(!1),h&&(f.refreshAds(),i&&!u.isInMultiViewMode()&&this.search()),u.isInMultiViewMode()||f.populateNewAds(),u.updateVotes(),u.fetchThumbnails(),v=s.numGamesToFetchOnSearch,(!i||i<v)&&Roblox.ExperimentalMode&&Roblox.ExperimentalMode.getVariant()=="A"&&!Roblox.ExperimentalMode.loadingExperimental()&&(Roblox.ExperimentalMode.setLoadingExperimental(!0),l.currentSearchPage=0,this.search(),this.getExperimentalSearchResultsGameCardsContainer().show(),$(".experimental-games-container").show())},showSearchResultsContainer:function(){this.getSearchResultsContainer().removeClass("overflow-hidden").addClass("overflow-visible").removeClass("hidden")},toggleSearch:function(n){switch(n){case"on":this.setSearchStateOn();break;case"reset":this.setSearchStateOff()}}}}();

;// Games/settings.js
"use strict";Roblox.GamesPage.Settings=function(){var n;this.adRefreshRateMilliSeconds=null,this.adsHidden=!1,this.adsInGameSearchResultsEnabled=!1,this.defaultWeeklyRatings=!1,this.deviceTypeId=1,this.filterValueToGamesListsIdSuffixMapping={"default":[]},this.gamesPageDefaultTopPaidToWeekly=!1,this.gamesSearchOnPage=!1,this.inApp=!1,this.incomingSearchQuery=null,this.isCreateNewAd=!0,this.isUserEligibleForMultirowFirstSort=!1,this.isUserLoggedIn=!1,this.minNumGamesForPersonalizedByLikedToAppear=0,this.numGamesToFetchOnSearch=40,this.numRowsForTopList=4,this.columnWidthIncludingPadding=161,this.extraHeightToShowHover=50,this.interGamesListSpace=40,this.gamesListHeaderHeight=40,this.gamesListNarrowSquishHeight=115,this.gamesListNarrowWidthThreshold=544,this.gamesListSquishHeight=51,this.gameTileHeight=235,this.gameTilePadding=36,this.gameTileNarrowHeight=143,this.gameTileNarrowPadding=36,this.pageHeaderHeight=240,this.rowHeightIncludingPadding=220,this.scrollbarWidth=18,this.maxNumGamesToFetchPerRequest=200,this.maxNumGamesToFetchInHScrollMode=60,this.numGamesToAppendInHScrollMode=12,this.numGamesToFetchInHScrollMode=14,this.numGamesToFetchInHScrollModeSubsequently=14,this.numGamesToFetchInMobileHScrollMode=16,this.numGamesToFetchInVScrollMode=60,this.numGamesToFetchInMultirowsMode=40,this.numGamesToFetchInMultirowsModeSubsequently=30,this.resizeGrowInterval=300,this.resizeShrinkInterval=50,this.pageTitle=null,this.refreshAdsInGamesPageEnabled=!1,this.searchDefaultKeyword=null,this.zeroResults=null,this.useFakeResults=!1,this.suggestedCorrection="",this.suggestionKeyword="",this.suggestionReplacedKeyword="",this.isGamesThumbnailAsyncEnabled=!1,this.queryType="",this.isNewGameTileEnabled=!1,this.getSettingsElement=function(){return n||$("#games-page-settings")},this.init=function(){var n=this.getSettingsElement(),r=Roblox.GamesPage.DataAttributes,t,i;for(t in r)i=r[t],this.hasOwnProperty(t)&&typeof n.data(i)!="undefined"&&(this[t]=n.data(i));n.data("filtervaluetogameslistsidsuffixmapping")&&(this.filterValueToGamesListsIdSuffixMapping={"default":n.data("filtervaluetogameslistsidsuffixmapping").split(",")})}},Roblox.GamesPage.DataAttributes={adRefreshRateMilliSeconds:"adrefreshratemilliseconds",adsHidden:"adshidden",adsInGameSearchResultsEnabled:"adsingamesearchresultsenabled",defaultWeeklyRatings:"defaultweeklyratings",deviceTypeId:"devicetypeid",gamesPageDefaultTopPaidToWeekly:"gamespagedefaulttoppaidweekly",gamesSearchOnPage:"gamessearchonpage",isNewGameTileEnabled:"isnewgametileenabled",inApp:"inapp",incomingSearchQuery:"incomingsearchquery",isCreateNewAd:"iscreatenewad",isUserEligibleForMultirowFirstSort:"isusereligibleformultirowfirstsort",isUserLoggedIn:"isuserloggedin",minNumGamesForPersonalizedByLikedToAppear:"minimumnumberofgamesforpersonalizedbylikedtoappear",pageTitle:"pagetitle",refreshAdsInGamesPageEnabled:"refreshadsingamespageenabled",searchDefaultKeyword:"searchdefaultkeyword",zeroResults:"zeroresults",useFakeResults:"usefakeresults",suggestedCorrection:"suggestedcorrection",suggestionKeyword:"suggestionkeyword",suggestionReplacedKeyword:"suggestionreplacedkeyword",isGamesThumbnailAsyncEnabled:"isgamesthumbnailasyncenabled",queryType:"querytype"};

;// Games/state.js
"use strict";Roblox.GamesPage.State=function(){this.adSpan,this.areAdsInGameSearchResults=!1,this.areFiltersAlreadyUpdated=!1,this.currentSearchInProgress=!1,this.currentSearchPage=0,this.currentSearchQuery=null,this.distanceFromBottomAtWhichToLoadMoreGames=400,this.gamesListArray=[],this.guttersEnabled=!1,this.haveGamesBeenFetched=!1,this.History=window.History,this.isGameSearchOnPage=!1,this.isInMultiViewMode=!0,this.isURLAlreadyUpdated=!1,this.numberOfColumns=0,this.numberOfShownGamesLists=0,this.searchState="off",this.setIntervalId=null};

;// Games/legacy.js
function tombstone(n){window.console&&typeof n=="string"&&(window.console.error&&console.error(n,"is deprecated but was called"),window.console.trace&&console.trace());return}var Roblox=Roblox||{};typeof Roblox.GamesDisplayShared=="undefined"&&(Roblox.GamesDisplayShared={}),Roblox.GamesListBehavior={},Roblox.GamesListBehavior.RefreshAdsInGamesPageEnabled=!1,Roblox.GamesPageContainerBehavior=function(){function n(){return Roblox.GamesPage.settings.deviceTypeId}var t,i,r,u=0,f=!1,e=400,o;return $(function(){}),{getDeviceTypeId:n}}();

;// Games/ads.js
var Roblox=Roblox||{};Roblox.AdsHelper=Roblox.AdsHelper||{},Roblox.AdsHelper.AdRefresher=Roblox.AdsHelper.AdRefresher||{},Roblox.AdsHelper.DynamicAdCreator=Roblox.AdsHelper.DynamicAdCreator||{},Roblox.AdsHelper.GamesPage=function(){var n={leftGutterId:"LeftGutterAdContainer",rightGutterId:"RightGutterAdContainer",adDiv1Id:"GamePageAdDiv1",adDiv2Id:"GamePageAdDiv2",adDiv3Id:"GamePageAdDiv3",leaderboardId:"Leaderboard-Abp",bindFilmStripHidden:function(){$(document).on("FilmStripHidden",this.handleFilmStripHidden.bind(this))},bindGuttersHidden:function(){$(document).on("GuttersHidden",this.handleGuttersHidden.bind(this))},calcAdAlignment:function(){var n=this.getAdsInSearchResults().last(),t=0;return n.length>0&&n.hasClass("ad-order-even")&&(t=1),t},calcAdSpan:function(n,t,i){var r,u,f=this.getSettings();return Roblox.GamesPage.isInMultiViewMode()||!f.adsInGameSearchResultsEnabled?0:(u=Math.ceil(i/n),r=u*t)},getAdDiv3:function(){return $("#"+this.adDiv3Id)},getAdsInSearchResults:function(){return $(".overflow-visible .in-game-search-ad")},getGutterAdStyles:function(){return $("#GutterAdStyles")},getGutterIframeUrl:function(){return Roblox&&Roblox.Endpoints?Roblox.Endpoints.getAbsoluteUrl("games/rightcolumn"):"games/rightcolumn"},getGutterIframe:function(){var n=this.getGutterIframeUrl();return"<iframe id='GamesRightColumn' src='"+n+"' scrolling='no' frameBorder='0' style='height:550px;width:330px;border:0px;overflow:hidden'></iframe>"},getLeftGutter:function(){return $("#"+this.leftGutterId)},getRightGutter:function(){return $("#"+this.rightGutterId)},getSettings:function(){return Roblox.GamesPage.getSettings()},getState:function(){return Roblox.GamesPage.state},getTopAdContainer:function(){return $("#"+this.leaderboardId)},handleFilmStripHidden:function(){var t=Roblox.GamesPage.getRightSidebarElement(),n;this.getAdDiv3().hide(),n=this.getGutterIframe(),t.html(n)},handleGuttersHidden:function(){var n=this.getState(),i;if(n.guttersEnabled){var t=Roblox.AdsHelper.AdRefresher,r=Roblox.GamesPage.getLeftColumnElement(),u=Roblox.GamesPage.getRightSidebarElement();n.guttersEnabled=!1,t.registerAd(this.adDiv1Id),t.registerAd(this.adDiv2Id),this.getLeftGutter().hide(),this.getRightGutter().hide(),r.addClass("gutters-hidden"),this.getGutterAdStyles().remove(),i=this.getGutterIframe(),u.html(i)}},init:function(){if(Roblox.GamesPage){var n=Roblox.AdsHelper.AdRefresher,i=this.getLeftGutter(),r=this.getTopAdContainer(),t=this.getSettings();t&&t.adsInGameSearchResultsEnabled&&(googletag&&(googletag.pubads&&googletag.pubads()?googletag.pubads().disableInitialLoad():googletag.cmd.push(function(){googletag.pubads().disableInitialLoad()})),i.length?(n.registerAd(this.leftGutterId),n.registerAd(this.rightGutterId)):(n.registerAd(this.adDiv1Id),n.registerAd(this.adDiv2Id),n.registerAd(this.adDiv3Id)),r.length&&n.registerAd(this.leaderboardId),this.bindGuttersHidden(),this.bindFilmStripHidden())}},populateNewAds:function(){Roblox.GamesPage&&Roblox.GamesPage.settings.adsInGameSearchResultsEnabled&&!Roblox.GamesPage.isInMultiViewMode()&&Roblox.AdsHelper.DynamicAdCreator.populateNewAds()},refreshOldAds:function(){Roblox.GamesPage&&Roblox.GamesPage.settings.adsInGameSearchResultsEnabled&&!Roblox.GamesPage.isInMultiViewMode()&&(this.setHiddenAdsToSkipRefresh(),this.populateNewAds())},refreshAds:function(){var n=Roblox.GamesPage.settings,t=Roblox.GamesPage.state;if(n.isCreateNewAd)n.isCreateNewAd=!1,t.setIntervalId&&clearInterval(t.setIntervalId),t.setIntervalId=setInterval(function(){n.isCreateNewAd=!0},n.adRefreshRateMilliSeconds),Roblox.AdsHelper.AdRefresher.refreshAds(),this.refreshOldAds();else return!0},checkAdDisplayState:function(){if(Roblox&&Roblox.GamesPage&&Roblox.GamesPage.settings){var n=Roblox.GamesPage.settings.adsInGameSearchResultsEnabled&&!Roblox.GamesPage.isInMultiViewMode();return n?Roblox.GamesPage.getGamesPageContainer().addClass("ads-in-game-search"):Roblox.GamesPage.getGamesPageContainer().removeClass("ads-in-game-search"),!0}return!1},setHiddenAdsToSkipRefresh:function(){$(".overflow-visible .in-game-search-ad").each(function(){var i=$(this);i.children(".ad-slot").length>0&&i.children(".ad-slot").html().trim()==""&&!i.hasClass("unpopulated")&&(i.addClass("unpopulated"),i.children(".ad-slot").attr("id","adx"+Math.floor(Math.random()*1e8)))})},updateAdSpan:function(n){var t=this.getState();t.adSpan=this.calcAdSpan(Roblox.GamesPageConstants.rowHeightIncludingPadding,t.numberOfColumns,n)}};return $(function(){n.init()}),n}();

;// Games/gamesList.js
Roblox=Roblox||{},Roblox.GamesPage.GamesList=function(n,t,i,r,u,f,e){var o=Roblox.GamesPageConstants;this.parent=Roblox.GamesPage,this.divId=n,this.id=n.replace("GamesListContainer",""),this.container=null,this.gamesListElement=null,this.haveGamesBeenLoaded=!1,this.isFirst=!1,this.isShown=!1,this.sortFilter=t,this.gameFilter=i,this.regionFilter=r,this.timeFilter=o.timeFilters.current,this.genreId=1,this.minBcLevel=u,this.personalizedUniverseId=f,this.forceJpegThumbnail=e,this.numberOfRowsToOccupy=0,this.numberOfGamesToFetch=0,this.numberOfGamesOnScreen=0,this.startIndex=0,this.nextPageStart=null,this.jqxhr=null,this.reachedHorizontalScrollMax=!1,this.numberOfGamesOnLastRow=0,this.isSearchResults=!1,this.getContainer().hasClass("search-results-container")&&(this.isSearchResults=!0)},Roblox.GamesPage.GamesList.prototype={bindFilterClick:function(){var n=this.handleGamesFilterChangerClick.bind(this);this.getContainer().on("click",".games-filter-changer",n)},bindScrollHandlers:function(){var n=this.handleHorizontalScroll.bind(this);this.getContainer().on("click",".scroller",function(){var t=$(this).hasClass("prev")?"prev":"next";n(t)})},buildFetchRequest:function(n,t){var u=this.parent.isInMultiViewMode(),i=this.getSettings(),r=this.getState();return{ForceJpegThumbnail:this.forceJpegThumbnail,SortFilter:this.sortFilter,TimeFilter:this.timeFilter,RegionFilter:this.regionFilter,GenreID:this.genreId,GameFilter:this.gameFilter,MinBCLevel:this.minBcLevel,StartRows:this.startIndex,MaxRows:n,IsUserLoggedIn:i.isUserLoggedIn,NumberOfRowsToOccupy:this.numberOfRowsToOccupy,NumberOfColumns:r.numberOfColumns,IsInHorizontalScrollMode:u,DeviceTypeId:i.deviceTypeId,AdSpan:r.adSpan,AdAlignment:t,v:2,PersonalizedUniverseId:this.personalizedUniverseId,useFakeResults:i.useFakeResults,IsGamesThumbnailAsyncEnabled:i.isGamesThumbnailAsyncEnabled,ExclusiveStartId:this.nextPageStart,isNewGameTileEnabled:i.isNewGameTileEnabled}},clearGamesListHeight:function(){var n=this.getRowsClass(this.numberOfRowsToOccupy);this.getGamesListElement().removeClass(n)},doesNextButtonFitContainer:function(n,t,i,r){var f=n/t,u;return f=isNaN(f)?0:Math.floor(f),r=!r||isNaN(parseInt(r))?0:Math.abs(parseInt(r)),u=r/t,u=isNaN(u)?0:Math.floor(u),i-u<=f},emptyGamesList:function(n){var i=this.getSettings(),t;t=this.parent.getAdSpacer(),n.empty().append(t),(i.adsHidden||i.inApp)&&t.hide()},getClosestColumnBoundary:function(n){var t=this.getColumnWidth(),i=Math.abs(n%t);return n+i},getColumnWidth:function(){return this.getContainer().find(".list-item.game-card").first().outerWidth(!0)},getContainer:function(){return this.container||(this.container=$("#"+this.divId)),this.container},getGamesListElement:function(){return this.gamesListElement||(this.gamesListElement=this.getContainer().find(".games-list")),this.gamesListElement},getLeftBoundaryOfLastVisibleColumn:function(){var n,t,i=this.getSettings();return n=this.getContainer().find(".games-list").width(),t=Math.floor(n/i.columnWidthIncludingPadding),t*i.columnWidthIncludingPadding},getNumGamesToFetch:function(){var t,n=this.getSettings(),i=this.getState();return t=this.parent.isInMultiViewMode()?this.numberOfRowsToOccupy>1?this.haveGamesBeenLoaded?n.numGamesToFetchInMultirowsModeSubsequently:Math.max(n.numGamesToFetchInMultirowsMode,(i.numberOfColumns+1)*this.numberOfRowsToOccupy):this.haveGamesBeenLoaded?n.numGamesToFetchInHScrollModeSubsequently:this.parent.isTouch()?n.numGamesToFetchInMobileHScrollMode:n.numGamesToFetchInHScrollMode:n.numGamesToFetchInVScrollMode,Math.min(t,n.maxNumGamesToFetchPerRequest)},getRowsClass:function(n){return n>0?"rows-"+n:null},getScroller:function(){return this.getContainer().find(".horizontally-scrollable")},getScrollerNext:function(){return this.getContainer().find(".scroller.next")},getScrollerPrev:function(){return this.getContainer().find(".scroller.prev")},getScrollerMultiView:function(){return this.getContainer().find(".games-list .show-in-multiview-mode-only")},getSettings:function(){return Roblox.GamesPage.getSettings()},getState:function(){return Roblox.GamesPage.state},handleGamesFilterChangerClick:function(){var t=Roblox.AdsHelper.GamesPage,i=Roblox.GamesPageConstants,r=Roblox.GamesPage.Filters;return r.handleFilterChange(i.sortFilters.sortFilter,this.sortFilter),this.parent.updateURLFromPageState(),this.parent.loadInitialGames(!0),t.checkAdDisplayState(),!1},handleHorizontalScroll:function(n){var f=this.getSettings(),h=this.parent.isInMultiViewMode?this.getScrollerMultiView():null,u=this.getScroller(),i,t,r,e,o,s;u.length>0&&($(u).stop("",!0,!0),i=parseInt($(u).css("left"))||0,i=this.getClosestColumnBoundary(i),r=this.getScrollerNext(),e=this.getScrollerPrev(),n==="prev"?(t=i+this.getLeftBoundaryOfLastVisibleColumn(),t=Math.min(t,0),r.removeClass("disabled")):r.hasClass("disabled")||(this.loadGames(f.numGamesToAppendInHScrollMode),t=i-this.getLeftBoundaryOfLastVisibleColumn(),(this.noMoreGamesToLoad||this.reachedHorizontalScrollMax)&&!this.isAvailableWidthFullyOccupied(t)&&r.addClass("disabled")),f.isGamesThumbnailAsyncEnabled&&Roblox.LazyLoadImg&&(o=function(){Roblox.LazyLoadImg.updateImageScroll(h)}),$(u).animate({left:t+"px"},{complete:o}),f.refreshAdsInGamesPageEnabled&&this.parent.refreshAds(),s=t<0,s?e.removeClass("disabled"):r.hasClass("disabled")||e.addClass("disabled"))},hide:function(){this.isShown=!1,this.getContainer().addClass("hidden")},hideLoadingIndicator:function(){this.getContainer().removeClass("cursor-wait")},hideOverflow:function(){this.getContainer().removeClass("overflow-visible"),this.getContainer().addClass("overflow-hidden")},init:function(){this.bindScrollHandlers(),this.bindFilterClick(),this.preventScrollerDoubleClick()},initScrollers:function(){var n=this.parent.isInMultiViewMode();n&&this.numberOfRowsToOccupy>1?this.getContainer().find(".scroller").remove():(this.reachedHorizontalScrollMax=!1,this.getScrollerNext().removeClass("hidden"))},isAvailableWidthFullyOccupied:function(n){var t,i,r,u;return t=this.getColumnWidth(),i=this.getGamesListElement().width(),r=Math.ceil(i/t),u=Math.abs(n/t),this.numberOfGamesOnScreen>=u+r},loadGames:function(n){var t,i,r=Roblox.AdsHelper.GamesPage,f=Roblox.GamesPageConstants,e,o,l=Roblox.GamesPage.Filters,s=this.startIndex<1,h=this.parent.isInMultiViewMode(),u,c;if(s)this.jqxhr&&this.jqxhr.abort();else if(this.jqxhr||h&&this.reachedHorizontalScrollMax)return;c=this.parent.getURLBasedOnSortFilter(this.sortFilter),u=n||this.getNumGamesToFetch(),this.timeFilter=l.getDefaultTimeFilterForSortFilter(this.sortFilter,this.timeFilter),s?(r.checkAdDisplayState(),this.numberOfGamesOnLastRow=0,t=0,i=f.initialAdHeight,this.initScrollers()):(t=r.calcAdAlignment(),i=f.subsequentAdHeight),r.updateAdSpan(i),o=this.buildFetchRequest(u,t),e=this.renderGamesFetched.bind(this,u),h||this.showLoadingIndicator(),this.jqxhr=$.get(c,o,e)},preventScrollerDoubleClick:function(){var n=this.getContainer();n.find(".scroller, .scroller .arrow, .scroller .arrow img").on("dblclick",function(n){return n.preventDefault(),window.getSelection?window.getSelection().removeAllRanges():document.selection&&document.selection.empty(),!1})},renderGamesFetched:function(n,t){var e=Roblox.AdsHelper.GamesPage,i,u=this.startIndex<1,o=this.parent.isInMultiViewMode(),r,c,s,h=this.getSettings(),f;this.jqxhr=null,f=$("<div></div>").append(t),s=$(t).find(".game-card-container").length,s?(this.haveGamesBeenLoaded=!0,this.startIndex+=n,this.nextPageStart=$(f).find("#gamesListResponseModel").attr("data-next-page-start")):u&&this.getContainer().hide(),Roblox.SponsoredGames.getSponsoredGames(f),o?(i=this.getScroller().find(".games"),this.numberOfRowsToOccupy>1&&(r=i.find(".multi-rows"),r.length||(r=$("<div/>").addClass("multi-rows"),i.append(r)),i=r)):i=this.getGamesListElement().find(".game-cards-grid"),u&&this.emptyGamesList(i),i.append(f.children()),this.numberOfGamesOnScreen=$(i).find(".game-card-container").length,o?(this.reachedHorizontalScrollMax=this.numberOfGamesOnScreen>h.maxNumGamesToFetchInHScrollMode,u&&(this.numberOfGamesOnScreen<h.minNumGamesForPersonalizedByLikedToAppear&&this.personalizedUniverseId!==0&&this.getContainer().hide(),this.resetHorizontalScroller(),s&&(this.noMoreGamesToLoad=this.numberOfGamesOnScreen<n,c=this.getNumGamesToFetch(),this.noMoreGamesToLoad||this.reachedHorizontalScrollMax||!c||this.loadGames())),this.toggleCarouselButtons()):u&&this.numberOfGamesOnScreen>h.numGamesToFetchInVScrollMode&&this.loadGames(),e.checkAdDisplayState(),e.populateNewAds(),e.refreshOldAds(),this.hideLoadingIndicator(),this.parent.updateVotes(),o?this.parent.fetchThumbnails(this.getScrollerMultiView()):this.parent.fetchThumbnails()},reset:function(){this.startIndex=0,this.nextPageStart=null,this.haveGamesBeenLoaded=!1,this.parent.isInMultiViewMode()&&this.resetHorizontalScroller(),this.resetPageScroll()},resetPageScroll:function(){$("html, body").animate({scrollTop:0},0)},resetHorizontalScroller:function(){var n=this.getScroller();n.length>0&&$(n).css("left",0),this.getScrollerPrev().addClass("disabled"),this.getScrollerNext().removeClass("disabled")},setHeight:function(){var n=Roblox.GamesPageConstants,i=this.getGamesListElement(),t,r=this.getSettings(),u=this.getState(),f,e,o,s;this.isShown?u.isInMultiViewMode?(this.hideOverflow(),t=this.isFirst&&r.isUserEligibleForMultirowFirstSort?r.numRowsForTopList:this.getContainer().data("numberofrows"),this.numberOfRowsToOccupy=t,this.setGamesListHeight()):(this.clearGamesListHeight(),this.showOverflow(),e=this.parent.getGamesListsContainerHeight(),o=i?Math.round(i.offset().top):0,f=Math.max($(window).height(),e)-(o+n.rowHeightOffset),s=Math.floor(f/n.rowHeightIncludingPadding),this.numberOfRowsToOccupy=Math.max(1,Math.floor(2*s))):this.hideOverflow(),this.isSearchResults&&u.searchState===n.searchState.on&&this.showOverflow()},setGamesListHeight:function(){var n=this.getRowsClass(this.numberOfRowsToOccupy);this.getGamesListElement().addClass(n)},show:function(){this.parent.isInMultiViewMode()?(this.getGamesListElement().find(".game-card-container,.games-list-column,.in-game-search-ad, .list-item.game-card").remove(),this.getContainer().find(".show-in-multiview-mode-only").removeClass("hidden")):this.getContainer().find(".show-in-multiview-mode-only").addClass("hidden"),this.isShown=!0,this.getContainer().removeClass("hidden")},showLoadingIndicator:function(){this.getContainer().addClass("cursor-wait")},showOverflow:function(){this.clearGamesListHeight(),this.getContainer().removeClass("overflow-hidden"),this.getContainer().addClass("overflow-visible")},toggleCarouselButtons:function(){var t=this.getScroller().css("left"),i=this.numberOfGamesOnScreen,r=this.getContainer().find(".list-item").first().outerWidth(!0),u=this.doesNextButtonFitContainer(this.getContainer().width(),r,i,t);this.getContainer().find(".scroller.next").toggleClass("disabled",u)}};

;// jquery/lazyLoadImage/jquery.lazyload.js
/*!
 * Lazy Load - jQuery plugin for lazy loading images
 *
 * Copyright (c) 2007-2015 Mika Tuupola
 *
 * Licensed under the MIT license:
 *   http://www.opensource.org/licenses/mit-license.php
 *
 * Project home:
 *   http://www.appelsiini.net/projects/lazyload
 *
 * Version:  1.9.7
 *
 */
(function(n,t,i,r){var u=n(t);n.fn.lazyload=function(f){function s(){var t=0;o.each(function(){var i=n(this);if((!e.skip_invisible||i.is(":visible"))&&!n.abovethetop(this,e)&&!n.leftofbegin(this,e))if(n.belowthefold(this,e)||n.rightoffold(this,e)){if(++t>e.failure_limit)return!1}else i.trigger("appear"),t=0})}var o=this,h,e={threshold:0,failure_limit:0,event:"scroll",effect:"show",container:t,data_attribute:"original",skip_invisible:!1,appear:null,load:null,placeholder:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsQAAA7EAZUrDhsAAAANSURBVBhXYzh8+PB/AAffA0nNPuCLAAAAAElFTkSuQmCC",loading_class:""};return f&&(r!==f.failurelimit&&(f.failure_limit=f.failurelimit,delete f.failurelimit),r!==f.effectspeed&&(f.effect_speed=f.effectspeed,delete f.effectspeed),n.extend(e,f)),h=e.container===r||e.container===t?u:n(e.container),0===e.event.indexOf("scroll")&&h.bind(e.event,function(){return s()}),this.each(function(){var i=this,t=n(i);i.loaded=!1,(t.attr("src")===r||t.attr("src")===!1)&&(t.is("img")&&e.loading_class.length<1&&t.attr("src",e.placeholder),e.loading_class.length>=1&&t.addClass(e.loading_class));t.one("appear",function(){if(!this.loaded){if(e.appear){var r=o.length;e.appear.call(i,r,e)}n("<img />").bind("load",function(){var r=t.attr("data-"+e.data_attribute),u,f;t.hide(),t.is("img")?t.attr("src",r):t.css("background-image","url('"+r+"')"),t.removeClass(e.loading_class),t[e.effect](e.effect_speed),i.loaded=!0,u=n.grep(o,function(n){return!n.loaded}),o=n(u),e.load&&(f=o.length,e.load.call(i,f,e))}).attr("src",t.attr("data-"+e.data_attribute))}});0!==e.event.indexOf("scroll")&&t.bind(e.event,function(){i.loaded||t.trigger("appear")})}),u.bind("resize",function(){s()}),/(?:iphone|ipod|ipad).*os 5/gi.test(navigator.appVersion)&&u.bind("pageshow",function(t){t.originalEvent&&t.originalEvent.persisted&&o.each(function(){n(this).trigger("appear")})}),n(i).ready(function(){s()}),this},n.belowthefold=function(i,f){var e;return e=f.container===r||f.container===t?(t.innerHeight?t.innerHeight:u.height())+u.scrollTop():n(f.container).offset().top+n(f.container).height(),e<=n(i).offset().top-f.threshold},n.rightoffold=function(i,f){var e;return e=f.container===r||f.container===t?u.width()+u.scrollLeft():n(f.container).offset().left+n(f.container).width(),e<=n(i).offset().left-f.threshold},n.abovethetop=function(i,f){var e;return e=f.container===r||f.container===t?u.scrollTop():n(f.container).offset().top,e>=n(i).offset().top+f.threshold+n(i).height()},n.leftofbegin=function(i,f){var e;return e=f.container===r||f.container===t?u.scrollLeft():n(f.container).offset().left,e>=n(i).offset().left+f.threshold+n(i).width()},n.inviewport=function(t,i){return!n.rightoffold(t,i)&&!n.leftofbegin(t,i)&&!n.belowthefold(t,i)&&!n.abovethetop(t,i)},n.extend(n.expr[":"],{"below-the-fold":function(t){return n.belowthefold(t,{threshold:0})},"above-the-top":function(t){return!n.belowthefold(t,{threshold:0})},"right-of-screen":function(t){return n.rightoffold(t,{threshold:0})},"left-of-screen":function(t){return!n.rightoffold(t,{threshold:0})},"in-viewport":function(t){return n.inviewport(t,{threshold:0})},"above-the-fold":function(t){return!n.belowthefold(t,{threshold:0})},"right-of-fold":function(t){return n.rightoffold(t,{threshold:0})},"left-of-fold":function(t){return!n.rightoffold(t,{threshold:0})}})})(jQuery,window,document);

;// jquery/lazyLoadImage/lazyLoadImg.js
"use strict";var Roblox=Roblox||{};Roblox.LazyLoadImg=Roblox.LazyLoadImg||{},Roblox.LazyLoadImg.init=function(n,t){var i=(t?t.selector+" ":"")+"img.lazy";$(i).lazyload({skip_invisible:!0,placeholder:"",loading_class:"thumbnail-placeholder",threshold:n,container:t})},Roblox.LazyLoadImg.scrollWhenTabsAreClicked=function(){$(".rbx-tab").on("shown.bs.tab",function(){$(document).trigger("scroll")})},Roblox.LazyLoadImg.updateImageScroll=function(n){n?n.trigger("scroll"):$(document).trigger("scroll")},$(function(){Roblox.LazyLoadImg.init(),Roblox.LazyLoadImg.scrollWhenTabsAreClicked()});

;// Games/GameDetailReferral.js
Roblox=Roblox||{},Roblox.GameDetailReferral=Roblox.GameDetailReferral||{},Roblox.GameDetailReferral.AppendUrl=function(n,t,i){if(!n.data("modified")){var e=$(t).length,u=i||n,f=u.attr("href"),r=f;r+=f.indexOf("?")!==-1?"&":"?",r+="LocalTimestamp="+(new Date).toISOString()+"&TotalInSort="+e,u.attr("href",r),n.data("modified",!0)}},$(function(){var t=".game-card-link",n="mousedown touchstart";$("#recently-visited-places").on(n,".game-card",function(){Roblox.GameDetailReferral.AppendUrl($(this).find(t),"#recently-visited-places .list-item")});$("#my-favorites-games").on(n,".game-card",function(){Roblox.GameDetailReferral.AppendUrl($(this).find(t),"#my-favorites-games .game-card")});$("#friend-activity").on(n,".game-card",function(){Roblox.GameDetailReferral.AppendUrl($(this).find(t),"#friend-activity .game-card")});$("#UserPlaces div.Thumbnail").on(n,function(){Roblox.GameDetailReferral.AppendUrl($(this),".Thumbnail",$(this).find("a"))});$("#GamesListsContainer").on(n,".game-card",function(){var n=$(this).parent().siblings().length+1;Roblox.GameDetailReferral.AppendUrl($(this).find(t),new Array(n))});$("#my-recommended-games").on(n,".game-card",function(){Roblox.GameDetailReferral.AppendUrl($(this).find(t),"#my-recommended-games .game-card")});$("#HomeContainer #FeaturedGamesContainer").on(n,".item-place a",function(){Roblox.GameDetailReferral.AppendUrl($(this),"#FeaturedGamesContainer .item-place")})});

;// Games/GamesPageInteraction.js
"use strict";typeof Roblox=="undefined"&&(Roblox={}),typeof Roblox.GamesPageInteraction=="undefined"&&(Roblox.GamesPageInteraction=function(){function n(n,t){Roblox.EventStream&&Roblox.EventStream.SendEvent("gamesPageInteraction",n,t)}function t(n){switch(n.attr("id")){case"SortFilter":return"SFMenu";case"TimeFilter":return"TFMenu";case"GenreFilter":return"GFMenu"}return""}function r(i){n(t(i),{aType:"focus"})}function u(i){n(t(i),{aType:"offFocus"})}function f(i,r){var u=$("ul.dropdown-menu li",i).index(r)+1,f=r.data("value");n(t(i),{pos:u,aValue:f,aType:"click"})}function i(t,i){var r=t.closest(".games-list-container"),u=$(".games-list-container").index(r)+1,f=r.data("sortfilter");n(i,{pos:u,aValue:f})}function e(n){var t=n.hasClass("next")?"PageRight":"PageLeft";i(n,t)}function o(n){i(n,"SeeAll")}return{SendMenuFocus:r,SendMenuOffFocus:u,SendMenuClick:f,SendPagerClick:e,SendSeeAllClick:o}}()),$(function(){$("div#FiltersAndSort").on("mousedown",".input-group-btn",function(n){if(n.which==1)if($(this).hasClass("open")){var i=$(n.target),t=i.parent();t.prop("tagName")==="LI"&&Roblox.GamesPageInteraction.SendMenuClick($(this),t)}else Roblox.GamesPageInteraction.SendMenuFocus($(this))});$("div#FiltersAndSort").on("blur",".input-group-btn",function(n){var t=$(n.relatedTarget),i=t.parent();!$(n.target).hasClass("input-dropdown-btn")||t.prop("tagName")==="A"&&i.prop("tagName")==="LI"&&typeof i.data("value")!="undefined"||Roblox.GamesPageInteraction.SendMenuOffFocus($(this))});$("#GamesListsContainer").on("mousedown","div.scroller",function(n){n.which==1&&Roblox.GamesPageInteraction.SendPagerClick($(this))});$("#GamesListsContainer").on("mousedown","div.see-all-button",function(n){n.which==1&&Roblox.GamesPageInteraction.SendSeeAllClick($(this))})});

;// Games/SponsoredGames/SponsoredGames.js
typeof Roblox=="undefined"&&(Roblox={}),typeof Roblox.SponsoredGames=="undefined"&&(Roblox.SponsoredGames=new function(){function t(n,t){n.find(".game-card-thumb").attr("src",t.ThumbnailUrl),n.find(".game-card-link").attr("href",t.GameUrl),n.find(".game-card-name").attr("title",t.UniverseName).html(t.UniverseName),n.css("display","inline-block")}function n(n){$(n).remove()}function i(i){for(var u=[],r=0,f=i.length;r<f;r++)u.push({deviceType:i[r].deviceType,sortFilter:i[r].sortFilter,genreId:i[r].genreId,timeFilter:i[r].timeFilter,pageType:i[r].pageType,position:i[r].position});$.ajax({url:"/sponsored-games/serve-list",type:"POST",data:JSON.stringify(u),dataType:"json",contentType:"application/json",async:!0,success:function(r){var u;if(r)for(u=0;u<i.length;u++)r[u]?t(i[u].nativeAdPositionDom,r[u]):n(i[u].nativeAdPositionDom);else for(u=0;u<i.length;u++)n(i[u].nativeAdPositionDom)},error:function(){for(var t=0;t<i.length;t++)n(i[t].nativeAdPositionDom)}})}function r(n){var t=[];$(n.find(".sponsored-game")).each(function(){if(!$(this).find("a").attr("href")){var n=$(this),i={nativeAdPositionDom:n,deviceType:Roblox.GamesPageContainerBehavior.getDeviceTypeId(),sortFilter:n.data("sort-filter"),genreId:n.data("genre-filter"),timeFilter:n.data("time-filter"),pageType:n.data("page-type"),position:n.data("position")};t.push(i)}}),t.length>0&&Roblox.SponsoredGames.serveNativeAds(t)}return{serveNativeAds:i,getSponsoredGames:r}});

;// ~/Generated/js/Roblox_TranslationResources_Feature_ShopDialogResources_en_us_standard.js
var Roblox=Roblox||{};Roblox.Lang=Roblox.Lang||{},Roblox.Lang["Feature.ShopDialog"]={"Action.Cancel":"Cancel","Action.ContinueToShop":"Continue to Shop","Description.AgeWarning":"Please note that you need to be over 18 to purchase products online. The Amazon store is not part of Roblox.com and is governed by a separate privacy policy.","Description.AmazonRedirect":"Your are about to visit our amazon store. You will be redirected to Roblox merchandise store on {shopLink}.","Heading.LeavingRoblox":"You are leaving Roblox"},Roblox.Lang.ShopDialogResources=Roblox.Lang["Feature.ShopDialog"];

;// utilities/popover.js
var Roblox=Roblox||{};Roblox.Popover=function(){"use strict";function u(n,i){var u=$(n),f=$(i),e=$(t),h=e.outerWidth(),c=u.find(r).outerWidth(),l=e.offset().left,o=0,s;(u.hasClass("bottom")||u.hasClass("top"))&&(s=$("body").outerWidth()-parseInt(f.width()+f.offset().left),o=$("body").outerWidth()-l-s-h/2-c/2,u.find(r).css("right",o))}function f(t){return t.data("hiddenClassName")&&(n=t.data("hiddenClassName")),n}function s(){$(t).on("click",function(t){var s=$(this).data("bind"),h=s?"#"+s:i,r=$(h),c=$(this).data("container"),l=c?"#"+c:o,e;n=f(r),r.hasClass("manual")||r.toggleClass(n),e=!r.hasClass(n),$(document).triggerHandler("Roblox.Popover.Status",{isOpen:e,eventType:t.type}),e&&u(h,l)})}function h(){$("body").on("click",function(r){$(t).each(function(){var u=$(this).data("bind"),t=u?$("#"+u):$(i),o="roblox-popover-open-always",e="roblox-popover-close";if(n=f(t),$(t).hasClass(o)&&!$(r.target).hasClass(e))return!1;!$(r.target).hasClass(e)&&($(this).is(r.target)||$(this).has(r.target).length!==0||t.has(r.target).length!==0||t.hasClass(n)||r.type!=="click")||(t.addClass(n),$(document).triggerHandler("Roblox.Popover.Status",{isHidden:!0,eventType:r.type}))})})}function e(){s(),h()}var t=".roblox-popover",i=".roblox-popover-content",o=".roblox-popover-container",r=".arrow",n="hidden";return $(function(){e()}),{init:e,setUpTrianglePosition:u}}();

;// captcha/constants/captchaConstants.js
"use strict";var Roblox=Roblox||{};Roblox.CaptchaConstants=Roblox.CaptchaConstants||{endpoints:{sendMessage:"",addFriend:"",follow:"",signup:"",joinGroup:"",login:"",postComment:"",clothingUpload:"",favorite:"",appSignup:"",appLogin:""},serviceData:{sitekey:"",trulyInvisibleSitekey:"",successSuffix:"Captcha_Success",failSuffix:"Captcha_Failed",displayedSuffix:"Captcha_Displayed",captchaSolvedPrefix:"Captcha_User_Solved_InSeconds_",captchaSolveTimeIntervals:[{seconds:1,suffix:"Less_Than_1"},{seconds:3,suffix:"1_To_3"},{seconds:10,suffix:"4_To_10"},{seconds:20,suffix:"11_To_20"},{seconds:30,suffix:"21_To_30"},{seconds:40,suffix:"31_To_40"},{seconds:50,suffix:"41_To_50"}],captchaSolveTimeLarge:"Greater_Than_50",badgePosition:"bottomright",logConstants:{successSuffix:"_Success",failSuffix:"_Failed",displayedSuffix:"_Displayed",triggeredSuffix:"_Triggered",suppressedSuffix:"_Suppressed",providerErrorSuffix:"_FailedToLoad",completedTimeSequenceSuffix:"_SolveTime",solvedPrefix:"_User_Solved_InSeconds_",solveTimeIntervals:[{seconds:1,suffix:"Less_Than_1"},{seconds:3,suffix:"1_To_3"},{seconds:10,suffix:"4_To_10"},{seconds:20,suffix:"11_To_20"},{seconds:30,suffix:"21_To_30"},{seconds:40,suffix:"31_To_40"},{seconds:50,suffix:"41_To_50"}],solveTimeLarge:"Greater_Than_50",eventStreamCaptchaEventName:"captcha",eventStreamCaptchaInitiatedEventName:"captchaInitiated",captchaInitiatedChallengeTypes:{visible:"visible",hidden:"hidden",error:"error"}}},types:{signup:"signup",sendMessage:"sendMessage",addFriend:"addFriend",follow:"follow",joinGroup:"joinGroup",login:"login",postComment:"postComment",clothingUpload:"clothingUpload",favorite:"favorite",appSignup:"appSignup",appLogin:"appLogin"},ids:{defaultCaptcha:"captcha-container",signup:"signup-captcha",login:"login-captcha",friends:"friends-captcha",groups:"groups-captcha",profile:"profile-captcha",playerSearch:"player-search-captcha",appCaptcha:"app-captcha"},messageElementIds:{defaultError:"captcha-error"},hybridEvents:{shown:"CaptchaShown",success:"CaptchaSuccess"},messages:{error:"We currently cannot verify CAPTCHA, please try again later.",funCaptchaError:"We currently cannot verify FunCaptcha, please try again later."}};

;// captcha/captchaLogger.js
"use strict";var Roblox=Roblox||{},EventTracker=window.EventTracker||null;Roblox.CaptchaLogger=function(n){function o(n){EventTracker&&EventTracker.start(n)}function s(n){EventTracker&&EventTracker.endSuccess(n)}function h(n){EventTracker&&EventTracker.endFailure(n)}function i(n){return n.charAt(0).toUpperCase()+n.slice(1)}function c(n,i){for(var o=1e3,f=n+t.solvedPrefix,e=t.solveTimeIntervals,u,r=0;r<e.length;r++)if(u=e[r],i<=u.seconds*o)return f+u.suffix;return f+t.solveTimeLarge}var f=Roblox.CaptchaConstants,e=$.extend({},f.serviceData),t=e.logConstants,u=!1,r;this.provider=n,this.setPerAppTypeLoggingEnabled=function(n){Roblox.DeviceMeta&&Roblox.DeviceMeta().isInApp&&(u=n,r=Roblox.DeviceMeta().appType)},this.fireEvent=function(n){if(EventTracker)if(u&&typeof r!="undefined"){var t=n+"_"+r;EventTracker.fireEvent(t)}else EventTracker.fireEvent(n)},this.logSolveTime=function(n,t){var r=c(this.provider,t);this.fireEvent(i(n+r))},this.logSuccess=function(n){this.fireEvent(i(n+this.provider+t.successSuffix)),s(n+this.provider+t.completedTimeSequenceSuffix)},this.logFail=function(n){this.fireEvent(i(n+this.provider+t.failSuffix)),h(n+this.provider+t.completedTimeSequenceSuffix)},this.logTriggered=function(n){this.fireEvent(i(n+this.provider+t.triggeredSuffix)),o(n+this.provider+t.completedTimeSequenceSuffix)},this.logSuppressed=function(n){this.fireEvent(i(n+this.provider+t.suppressedSuffix))},this.logDisplayed=function(n){this.fireEvent(i(n+this.provider+t.displayedSuffix))},this.logProviderError=function(n){this.fireEvent(i(n+this.provider+t.providerErrorSuffix))},this.logCaptchaShownEventToEventStream=function(n){this.logCaptchaInitiatedEventToEventStream(n,t.captchaInitiatedChallengeTypes.visible)},this.logCaptchaSuppressedEventToEventStream=function(n){this.logCaptchaInitiatedEventToEventStream(n,t.captchaInitiatedChallengeTypes.hidden)},this.logCaptchaErrorEventToEventStream=function(n){this.logCaptchaInitiatedEventToEventStream(n,t.captchaInitiatedChallengeTypes.error)},this.logCaptchaInitiatedEventToEventStream=function(n,i){if(Roblox.EventStream){var r=n;Roblox.EventStream.SendEventWithTarget(t.eventStreamCaptchaInitiatedEventName,r,{type:i,provider:this.provider},Roblox.EventStream.TargetTypes.WWW)}},this.logCaptchaEventToEventStream=function(n,i,r,u){if(Roblox.EventStream){i=i||0;var f=r?"true":"false",e=n;Roblox.EventStream.SendEventWithTarget(t.eventStreamCaptchaEventName,e,{solveDuration:i,success:f,provider:this.provider,session:u||""},Roblox.EventStream.TargetTypes.WWW)}}};

;// captcha/captchaService.js
"use strict";var Roblox=Roblox||{},grecaptcha=window.grecaptcha||null,EventTracker=window.EventTracker||null;Roblox.Captcha=function(){function u(n){return n.charAt(0).toUpperCase()+n.slice(1)}function v(n){return n.charAt(0).toLowerCase()+n.slice(1)}function a(){return(new Date).valueOf()}function k(t){for(var e=1e3,u=n.captchaSolvedPrefix,f=n.captchaSolveTimeIntervals,r,i=0;i<f.length;i++)if(r=f[i],t<=r.seconds*e)return u+r.suffix;return u+n.captchaSolveTimeLarge}function d(n){var i=k(n);EventTracker&&EventTracker.fireEvent(u(t+i))}function y(n,t,i){if(Roblox.EventStream){t=t||0;var r=i?"true":"false",u=n;Roblox.EventStream.SendEventWithTarget("captcha",u,{solveDuration:t,success:r,provider:"Google"},Roblox.EventStream.TargetTypes.WWW)}}function p(t,f,o){var h={"g-Recaptcha-Response":f,isInvisible:i.invisible};$.ajax({method:"POST",data:h,success:function(){EventTracker&&EventTracker.fireEvent(u(t+n.successSuffix)),y(t,o,!0),s&&(s(),$("#"+l).empty())},error:function(){EventTracker&&EventTracker.fireEvent(u(t+n.failSuffix)),y(t,o,!1),e&&e(),Roblox.BootstrapWidgets&&Roblox.BootstrapWidgets.ToggleSystemMessage($(".alert-warning"),100,2e3,Roblox.CaptchaConstants.messages.error)},url:r[t]})}function w(n){var i={"g-Recaptcha-Response":n,isTrulyInvisible:!0};$.ajax({method:"POST",data:i,complete:function(){$("#"+c).empty()},url:r[t]})}function g(i,r){if(t=t||v(r),c=i,grecaptcha){var u={callback:w,badge:n.badgePosition},f=grecaptcha.render(c,u);grecaptcha.execute(f)}}var r=Roblox.CaptchaConstants.endpoints,l,c,h,i={invisible:!1},n=Roblox.CaptchaConstants.serviceData,o,t,s,e,f,b=function(n){typeof f=="function"&&f();var i=null;o&&(i=a()-o,d(i),o=null),p(t,n,i)};return{ids:Roblox.CaptchaConstants.ids,types:Roblox.CaptchaConstants.types,setEndpoint:function(n,t){r[n]=t},getEndpoint:function(n){return r[n]},setInvisibleMode:function(n){i.invisible=n},getInvisibleMode:function(){return i.invisible},setSiteKey:function(t){n.sitekey=t},verify:p,reset:function(n,r,u,o){t=n,s=r,e=u,f=o,grecaptcha&&(grecaptcha.reset(h),i.invisible&&grecaptcha.execute(h))},render:function(r,c,v,y,p){if(t=c,s=v,e=y,f=p,l=r,grecaptcha){var w={sitekey:n.sitekey,callback:b,badge:n.badgePosition};i.invisible&&(w.size="invisible"),h=grecaptcha.render(r,w),EventTracker&&EventTracker.fireEvent(u(t+n.displayedSuffix)),o=a()}},execute:function(){grecaptcha&&i.invisible&&grecaptcha.execute(h)},setMultipleEndpoints:function(n,t){var i,u;if(n&&t)for(i=0;i<n.length;i++)u=v(n[i]),r[u]=t},trulyInvisibleCallback:w,renderTrulyInvisible:g}}();

;// ~/viewapp/widgets/captcha/captcha.js
"use strict";var captcha=angular.module("captcha",[]);

;// ~/viewapp/widgets/captcha/constants/captchaConstants.js
"use strict";captcha.constant("captchaConstants",{template:"<div id='{{captchaElem.id}}' ng-show='captchaElem.isVisible'></div>",googleTemplate:"google-captcha-template",fcTemplate:"fun-captcha-template",fcModalTemplate:"fun-captcha-modal-template"});

;// ~/viewapp/widgets/captcha/directives/captchaDirective.js
"use strict";captcha.directive("captcha",["$log","$parse","captchaConstants","captchaInterface",function(n,t,i,r){return{restrict:"A",template:i.template,link:function(i,u,f){function h(n,t,f,e){var l=u.find("#"+i.captchaElem.id),s,h;if(i.captchaElem.isVisible=!0,s=function(){c(),angular.isFunction(t)&&t()},h=function(){angular.isFunction(f)&&f()},o){r.reset(n,s,h,e);return}r.render(i.captchaElem.id,n,s,h,e),o=!0,r.execute()}function c(){var n=u.find("#"+i.captchaElem.id);n.empty(),i.captchaElem.isVisible=!1}var o,e,s;i.captchaElem={isVisible:!1},o=!1,e=t(f.captchaModel)(i),i.captchaElem.id=e.id||r.ids.defaultCaptcha,s=i.$watch(function(){return e.isActivated},function(r){if(r){var s=t(f.onCaptchaSuccess)(i)||angular.noop,c=t(f.onCaptchaError)(i)||angular.noop,l=t(f.onCaptchaResponse)(i)||angular.noop,o=t(f.captchaType)(i);if(!o){n.debug("[Captcha Error] captcha type cannot be empty");return}h(o,s,c,l),e.isActivated=!1}},!0),i.$on("$destroy",function(){s&&s()})}}}]);

;// ~/viewapp/widgets/captcha/services/captchaInterface.js
captcha.factory("captchaInterface",["$q",function(){var t=Roblox.Captcha||{};return{types:t.types,ids:t.ids,setEndpoint:t.setEndpoint,setInvisibleMode:t.setInvisibleMode,setSiteKey:t.setSiteKey,reset:t.reset,render:t.render,execute:t.execute}}]);

;// Tracking/FormEvents.js
typeof Roblox=="undefined"&&(Roblox={}),typeof Roblox.FormEvents=="undefined"&&(Roblox.FormEvents=function(){function n(n,t,i){Roblox.EventStream&&Roblox.EventStream.SendEvent(n,t,i)}function t(t,i,r,u){var f={msg:u,input:r,field:i,vis:!0};n("formValidation",t,f)}function i(t,i){var r={aType:"focus",field:i};n("formInteraction",t,r)}function r(t,i,r){var u={aType:"offFocus",field:i};r&&(u.input=r),n("formInteraction",t,u)}function u(t,i){var r={aType:"click",field:i};n("formInteraction",t,r)}return{SendValidationFailed:t,SendInteractionFocus:i,SendInteractionOffFocus:r,SendInteractionClick:u}}());

;// ~/viewapp/common/formEvents/formEvents.js
"use strict";var formEvents=angular.module("roblox.formEvents",[]);

;// ~/viewapp/common/formEvents/directives/formInteraction.js
"use strict";formEvents.directive("rbxFormInteraction",function(){return{require:"^form",restrict:"A",link:function(n,t,i,r){var u=i.sendInputValue;t.bind("blur",function(){if(Roblox.FormEvents){var n=angular.element(this),t;u&&(t=n.val()),Roblox.FormEvents.SendInteractionOffFocus(r.context,n.attr("name"),t)}}).bind("focus",function(){Roblox.FormEvents&&Roblox.FormEvents.SendInteractionFocus(r.context,angular.element(this).attr("name"))})}}});

;// ~/viewapp/common/formEvents/directives/formContext.js
"use strict";formEvents.directive("rbxFormContext",function(){return{require:"form",restrict:"A",link:function(n,t,i,r){var u=r.$name;r.context=i.context+u.charAt(0).toUpperCase()+u.substr(1)}}});

;// ~/viewapp/common/constants/urlConstants.js
robloxApp.constant("urlConstants",{urlQueryStringPrefix:"?",urlQueryParameterSeparator:"&",hashSign:"#"});

;// ~/viewapp/common/constants/phoneConstants.js
robloxApp.constant("phoneConstants",{templates:{verifyPhoneModal:"verify-phone-modal"},urls:{phonePrefixes:"/v1/countries/phone-prefix-list",addPhone:"/account/settings/phone",verifyPhone:"/account/settings/phone/verify",resendCode:"/account/settings/phone/resend"},modalTypes:{addPhone:"addPhone",verifyPhone:"verifyPhone"},minimumPhoneLength:4,underscore:"_",phonePrefixCharacter:"+",defaultCountryCode:"US",unitedStatesPrefix:{name:"United States",localizedName:"United States",code:"US",prefix:1}});

;// ~/viewapp/common/services/phoneService.js
robloxApp.factory("phoneService",["$q","httpService","phoneConstants",function(n,t,i){function f(n){var i=n+r,f={url:i};return t.httpGet(f,null).then(function(n){var t;return _.reject(n,function(n){return n.code===u?(t=n,!0):!1}),t&&n.unshift(t),n})}function e(n){var r=i.urls.addPhone,u={url:r},f={countryCode:n.countryCode,prefix:n.prefix,phone:n.phone,password:n.password};return t.httpPost(u,f)}function o(n){var r=i.urls.verifyPhone,u={url:r},f={code:n.code};return t.httpPost(u,f)}function s(){var n=i.urls.resendCode,r={url:n};return t.httpPost(r)}function h(n){return!n||n.length<i.minimumPhoneLength?!1:/\d/.test(n)?/^[\d|\W|_]+$/.test(n):!1}var r=i.urls.phonePrefixes,u=i.defaultCountryCode;return{getPhonePrefixes:f,addPhone:e,verifyPhone:o,resendCode:s,isPhoneNumber:h}}]);

;// ~/viewapp/common/directives/toggleLoadingDirective.js
"use strict";robloxApp.directive("toggleLoading",[function(){return{restrict:"A",link:function(n,t,i){var f=i.isInline,e='<div class="spinner spinner-sm spinner-no-margin'+(f?"":" spinner-block")+'"></div>',r=angular.element(e),u;t.after(r),r.hide(),u=n.$watch(i.isLoading,function(n,i){if(n!==i)if(n){var u=t[0].offsetHeight,f=t[0].offsetWidth;r.css("height",u+"px"),r.css("width",f+"px"),t.hide(),r.show()}else t.show(),r.hide()},!0),n.$on("$destroy",function(){u&&u()})}}}]);

;// ~/viewapp/common/components/systemFeedback/systemFeedbackComponent.js
"use strict";robloxApp.component("systemFeedback",{templateUrl:"system-feedback",bindings:{bannerText:"<",showErrorBanner:"<"},controller:function(){var n=this;n.closeErrorBanner=function(){n.showErrorBanner=!1}}});

;// ~/viewapp/widgets/login/login.js
"use strict";var login=angular.module("login",["captcha","roblox.formEvents","modal"]).config(["languageResourceProvider",function(n){n.setLanguageKeysFromFile(Roblox.Lang.LoginResources)}]);angular.element(function(){angular.bootstrap("#login-container",["robloxApp","login"])});

;// ~/Generated/js/Roblox_TranslationResources_Authentication_LoginResources_en_us_standard.js
var Roblox=Roblox||{};Roblox.Lang=Roblox.Lang||{},Roblox.Lang["Authentication.Login"]={"Action.Cancel":"Cancel","Action.Facebook":"Facebook","Action.ForgotPasswordOrUsernameQuestion":"Forgot password or username?","Action.ForgotPasswordOrUsernameQuestionCapitalized":"Forgot Password or Username?","Action.Login":"Login","Action.LogInCapitalized":"Log In","Action.Ok":"OK","Action.PlayAsGuest":"Play as Guest","Action.Resend":"Resend","Action.ResendEmail":"Resend Email","Action.SendVerificationEmail":"Send Verification Email","Action.SignIn":"Sign In","Action.SignInWithFacebook":"Sign In with Facebook","Action.SignUp":"Sign up","Action.SignUpCapitalized":"Sign Up","Heading.Login":"Login","Heading.LoginRoblox":"Login to Roblox","Heading.SignUpMakeFriends":"Sign Up to Build & Make Friends","Label.AccountNotNeeded":"You don't need an account to play Roblox","Label.EmailNeedsVerification":"Your email needs verification","Label.FacebookCreatePasswordWarning":"If you have been signing in with Facebook, you must set a password.","Label.ForgotUsernamePassword":"Forgot Username/Password?","Label.GreetingForNewAccount":"Nice to meet you, {username}. {linkStartSignup}Let's make an account! {linkEndSignup}","Label.LearnMore":"Learn more","Label.LoggingInSpinnerText":"Logging in","Label.Login":"Log in","Label.LoginWithYour":"login with your","Label.NoAccount":"Don't have an account?","Label.NonAMemberQuestion":"Not a member?","Label.NotReceived":"Didn't receive it?","Label.Or":"Or","Label.Password":"Password","Label.PasswordWithColumn":"Password:","Label.StartPlaying":"You can start playing right now, in guest mode!","Label.UnverifiedEmailInstructions":"To log in with your email, it must be verified. You can also log in with your username.","Label.Username":"Username","Label.UsernameEmail":"Username/Email","Label.UsernameEmailPhone":"Username/Email/Phone","Label.UsernamePhone":"Username/Phone","Label.UsernameWithColumn":"Username:","Label.VerificationEmailSent":"Verification Email Sent!","Message.UnknownErrorTryAgain":"An unknown error occurred. Please try again.","Message.UsernameAndPasswordRequired":"Username and password required","Response.AccountIssueErrorContactSupport":"Account issue. Please contact Support.","Response.AccountLockedRequestReset":"Account has been locked. Please request a password reset.","Response.AccountNotFound":"Account not found. Please try again.","Response.EmailLinkedToMultipleAccountsLoginWithUsername":"Your email is associated with more than 1 username. Please login with your username.","Response.EmailSent":"Email sent!","Response.IncorrectEmailOrPassword":"Incorrect email or password.","Response.IncorrectPhoneOrPassword":"Incorrect phone or password.","Response.IncorrectUsernamePassword":"Incorrect username or password.","Response.LoginWithUsername":"Something went wrong. Please login with your username.","Response.PasswordNotProvided":"You must enter a password.","Response.TooManyAttemptsPleaseWait":"Too many attempts. Please wait a bit.","Response.UnknownError":"Unknown Error","Response.UnknownLoginError":"Unknown login failure.","Response.UnverifiedEmailLoginWithUsername":"Your email is not verified. Please login with your username.","Response.UnverifiedPhoneLoginWithUsername":"Your phone is not verified. Please login with your username.","Response.UsernameNotProvided":"You must enter a username.","Response.UseSocialSignOn":"Unable to login. Please use Social Network sign on."},Roblox.Lang.LoginResources=Roblox.Lang["Authentication.Login"];

;// ~/viewapp/widgets/login/constants/loginConstants.js
"use strict";login.constant("loginConstants",{urls:{login:"/v1/login",loginV2:"/v2/login",twoStepVerification:"/login/twostepverification",credentialsVerification:"/v2/credentials/verification",credentialsVerificationSend:"/v2/credentials/verification/send"},templates:{verifyEmail:"verify-email"},controllers:{verifyEmail:"verifyEmailController"},errorCodes:{unknownError:0,badCredentials:1,captcha:2,accountNotFound:3,passwordResetRequired:4,noPassword:5,accountIssue:6,tooManyAttempts:7,defaultLoginRequired:9,unverifiedCredentials:10},sendVerificationEmailErrorCodes:{tooManyAttempts:2},statusCodes:{flooded:429},credentialTypes:{username:"Username",email:"Email",phone:"PhoneNumber"},newLoginQueryString:"nl=true",loginSubmitButtonName:"loginSubmit",fbLoginButtonName:"fbLoginSubmit",landingContext:"landing",atSymbol:"@",verifyEmailContextSuffix:"_verifyEmail"});

;// ~/viewapp/widgets/login/services/loginLanguageService.js
"use strict";login.factory("loginLanguageService",["languageResource",function(n){var t=n;return{usernamePlaceholder:t.get("Label.Username"),usernameEmailPlaceholder:t.get("Label.UsernameEmail"),usernamePhonePlaceholder:t.get("Label.UsernamePhone"),usernameEmailPhonePlaceholder:t.get("Label.UsernameEmailPhone"),usernameAndPasswordRequired:t.get("Message.UsernameAndPasswordRequired"),incorrectUsernamePassword:t.get("Response.IncorrectUsernamePassword"),incorrectEmailPassword:t.get("Response.IncorrectEmailOrPassword"),incorrectPhonePassword:t.get("Response.IncorrectPhoneOrPassword"),accountNotFound:t.get("Response.AccountNotFound"),useSocialSignOn:t.get("Response.UseSocialSignOn"),accountIssue:t.get("Response.AccountIssueErrorContactSupport"),tooManyAttempts:t.get("Response.TooManyAttemptsPleaseWait"),unknownError:t.get("Message.UnknownErrorTryAgain"),emailAssociatedWithMultipleAccounts:t.get("Response.EmailLinkedToMultipleAccountsLoginWithUsername"),loginWithUsername:t.get("Response.LoginWithUsername"),unverifiedEmailLoginWithUsername:t.get("Response.UnverifiedEmailLoginWithUsername"),unverifiedPhoneLoginWithUsername:t.get("Response.UnverifiedPhoneLoginWithUsername"),emailNeedsVerification:t.get("Label.EmailNeedsVerification"),unverifiedEmailInstructions:t.get("Label.UnverifiedEmailInstructions"),sendVerificationEmail:t.get("Action.SendVerificationEmail"),verificationEmailSent:t.get("Label.VerificationEmailSent"),didntReceiveIt:t.get("Label.NotReceived"),resendEmail:t.get("Action.ResendEmail"),ok:t.get("Action.Ok")}}]);

;// ~/viewapp/widgets/login/services/loginService.js
"use strict";login.factory("loginService",["httpService","loginConstants",function(n,t){function i(i){var r=Roblox.LoginMeta.apiProxyUrl+t.urls.loginV2,u={url:r};return n.httpPost(u,i,!0)}function r(i){var r=Roblox.EnvironmentUrls.authApi+t.urls.login,u={url:r};return n.httpPost(u,i,!0)}function u(i){var r=Roblox.EnvironmentUrls.authApi+t.urls.credentialsVerification,u={url:r};return n.httpGet(u,i,!0)}function f(i){var r=Roblox.EnvironmentUrls.authApi+t.urls.credentialsVerificationSend,u={url:r};return n.httpPost(u,i,!0)}return{login:i,loginV2:r,canVerifyCredentials:u,verifyCredentials:f}}]);

;// ~/viewapp/widgets/login/controllers/verifyEmailController.js
"use strict";login.controller("verifyEmailController",["$scope","eventStreamService","loginLanguageService","loginService","loginConstants","injectedData",function(n,t,i,r,u,f){n.layout={labels:i},n.init=function(){n.layout.headerText=i.emailNeedsVerification,t.sendModalShownEvent(f.context+u.verifyEmailContextSuffix)},n.sendVerificationEmail=function(){n.layout.error=null,n.layout.isSubmitBusy=!0;var t={credentialType:u.credentialTypes.email,credentialValue:f.email,password:f.password};r.verifyCredentials(t).then(function(){n.layout.headerText=i.verificationEmailSent,n.layout.emailSent=!0,n.sendSendVerificationEmailEvent(!0)},function(t){var r=t&&t.data&&t.data.errors&&t.data.errors.length>0&&t.data.errors[0].code;switch(r){case u.sendVerificationEmailErrorCodes.tooManyAttempts:n.layout.error=i.tooManyAttempts;break;default:n.layout.error=i.unknownError}n.sendSendVerificationEmailEvent(!1)}).finally(function(){n.layout.isSubmitBusy=!1})},n.sendSendVerificationEmailEvent=function(n,i){t.sendEventWithTarget(t.eventNames.account.sendVerificationEmail,f.context+u.verifyEmailContextSuffix,{success:n,msg:i})},n.init()}]);

;// ~/viewapp/widgets/login/controllers/loginFormController.js
"use strict";login.controller("loginFormController",["$window","$uibModal","urlService","phoneService","loginLanguageService","loginService","captchaInterface","loginConstants","urlConstants",function(n,t,i,r,u,f,e,o,s){var h=this;h.data={},h.$onInit=function(){h.usePrimaryButtonClass=h.params.Context&&h.params.Context.toLowerCase().indexOf(o.landingContext)>-1,h.isProcessing=!1,h.params.RedirectToLoginPageOnError?h.credentialValue=null:(h.credentialValue=h.params.Username,h.setEnteredCredentialType(h.params.CType),h.error=h.params.ErrorCode?h.getErrorMessage(parseInt(h.params.ErrorCode,10)):null),h.captchaSetting={id:h.params.CaptchaId||e.ids.login,isActivated:!1,captchaType:e.types.login,successCB:null,errorCB:null}},Roblox.LoginMeta&&angular.extend(h.data,{forgotCredentialsUrl:Roblox.LoginMeta.forgotCredentialsUrl,homeUrl:Roblox.LoginMeta.homeUrl,fbSignInUrl:Roblox.LoginMeta.fbSignInUrl,securityNotificationUrl:Roblox.LoginMeta.securityNotificationUrl,loginPageUrl:Roblox.LoginMeta.loginPageUrl,isLoginWithEmailEnabled:Roblox.LoginMeta.isLoginWithEmailEnabled,isLoginWithPhoneEnabled:Roblox.LoginMeta.isLoginWithPhoneEnabled,isPromptUnverifiedEmailsEnabled:Roblox.LoginMeta.isPromptUnverifiedEmailsEnabled}),h.setEnteredCredentialType=function(n){if(n){h.data.enteredCredentialType=n;return}if(h.isEmail(h.credentialValue)){h.data.enteredCredentialType=o.credentialTypes.email;return}if(r.isPhoneNumber(h.credentialValue)){h.data.enteredCredentialType=o.credentialTypes.phone;return}h.data.enteredCredentialType=o.credentialTypes.username},h.submit=function(n){if(h.clearError(),!h.credentialValue||!h.password){h.params.RedirectToLoginPageOnError||(h.error=u.usernameAndPasswordRequired);return}if(n&&h.sendInteractionClickEvent(o.loginSubmitButtonName),h.isProcessing=!0,h.data.enteredCredentialType=o.credentialTypes.username,h.data.isLoginWithEmailEnabled||h.data.isLoginWithPhoneEnabled){h.submitEmailOrPhoneLogin();return}h.submitUsernameLogin()},h.submitUsernameLogin=function(){var t={username:h.credentialValue,password:h.password};f.login(t).then(function(t){var i=t.data;h.params.SamlRequest?h.handleSamlRequest(i):n.location.href=h.getRedirectUrl(i)},function(n){h.handleLoginError(n.data,n.status)})},h.submitEmailOrPhoneLogin=function(){var t=h.isEmail(h.credentialValue),i=r.isPhoneNumber(h.credentialValue),u;h.data.isLoginWithEmailEnabled&&!h.data.isDefaultLoginRequired&&t&&(h.data.enteredCredentialType=o.credentialTypes.email),h.data.isLoginWithPhoneEnabled&&!h.data.isDefaultLoginRequired&&i&&(h.data.enteredCredentialType=o.credentialTypes.phone),t||i||(h.showErrorBanner=!1),u={cvalue:h.credentialValue,ctype:h.data.enteredCredentialType,password:h.password},f.loginV2(u).then(function(t){var i=t.data;h.params.SamlRequest?h.handleSamlRequest(i):n.location.href=h.getRedirectUrl(i)},function(n){h.handleLoginError(n.data,n.status)})},h.handleLoginError=function(n,t){var i,r;if(t===o.statusCodes.flooded){h.activateCaptcha(),h.isProcessing=!1;return}i=n&&n.errors&&n.errors.length>0&&n.errors[0].code;switch(i){case o.errorCodes.captcha:h.activateCaptcha(),h.isProcessing=!1;return;case o.errorCodes.passwordResetRequired:h.navigateToSecurityNotificationPage();return}h.data.isPromptUnverifiedEmailsEnabled&&i===o.errorCodes.unverifiedCredentials&&h.data.enteredCredentialType===o.credentialTypes.email?(r={credentialType:o.credentialTypes.email,credentialValue:h.credentialValue,password:h.password},f.canVerifyCredentials(r).then(function(n){n&&n.data&&n.data.canSend?(h.promptUserToVerifyEmail(),h.isProcessing=!1):h.setErrorMessage(i)},function(){h.setErrorMessage(i)})):h.setErrorMessage(i)},h.promptUserToVerifyEmail=function(){t.open({backdrop:"static",templateUrl:o.templates.verifyEmail,controller:o.controllers.verifyEmail,resolve:{injectedData:{context:h.params.Context,email:h.credentialValue,password:h.password}}}).result.then(angular.noop,angular.noop)},h.setErrorMessage=function(t){var r=t===o.errorCodes.defaultLoginRequired||t===o.errorCodes.unverifiedCredentials,i;if(h.params.RedirectToLoginPageOnError||h.params.RedirectToLoginPageWhenUsernameIsRequired&&r){i={errorCode:t,ctype:h.data.enteredCredentialType},r||(i.username=h.credentialValue),n.location.href=h.data.loginPageUrl+s.urlQueryStringPrefix+$.param(i);return}h.isProcessing=!1,h.error=h.getErrorMessage(t)},h.getErrorMessage=function(n){var t,i;switch(n){case o.errorCodes.badCredentials:return h.getInvalidCredentialsErrorMessage();case o.errorCodes.accountNotFound:return u.accountNotFound;case o.errorCodes.noPassword:return u.useSocialSignOn;case o.errorCodes.accountIssue:return u.accountIssue;case o.errorCodes.tooManyAttempts:return u.tooManyAttempts;case o.errorCodes.defaultLoginRequired:return t=h.getDefaultLoginRequiredErrorMessage(),h.handleDefaultLoginRequired(t),null;case o.errorCodes.unverifiedCredentials:return i=h.getUnverifiedCredentialsErrorMessage(),h.handleDefaultLoginRequired(i),null;default:return u.unknownError}},h.activateCaptcha=function(){Roblox.Captcha.setEndpoint(Roblox.Captcha.types.login,h.params.CaptchaApiUrl+"?"+$.param({username:h.credentialValue})),h.captchaSetting.successCB=function(){h.submit()},h.captchaSetting.isActivated=!0},h.navigateToSecurityNotificationPage=function(){n.location.href=h.data.securityNotificationUrl},h.handleSamlRequest=function(n){var t,r=h.credentialValue,u,i;n&&n.tl?t=n.tl:n&&n.twoStepVerificationData&&(t=n.twoStepVerificationData.ticket,r=n.user.name),u=t?o.urls.twoStepVerification+"?"+$.param({username:r,tl:t,returnUrl:h.params.ReturnUrl}):h.params.ReturnUrl,i=h.samlRequestForm.$$element,i.attr("action",u),i[0].submit()},h.getInvalidCredentialsErrorMessage=function(){switch(h.data.enteredCredentialType){case o.credentialTypes.email:return u.incorrectEmailPassword;case o.credentialTypes.phone:return u.incorrectPhonePassword;default:return u.incorrectUsernamePassword}},h.getDefaultLoginRequiredErrorMessage=function(){switch(h.data.enteredCredentialType){case o.credentialTypes.email:return u.emailAssociatedWithMultipleAccounts;case o.credentialTypes.phone:return u.loginWithUsername;default:return""}},h.getUnverifiedCredentialsErrorMessage=function(){switch(h.data.enteredCredentialType){case o.credentialTypes.email:return u.unverifiedEmailLoginWithUsername;case o.credentialTypes.phone:return u.unverifiedPhoneLoginWithUsername;default:return""}},h.handleDefaultLoginRequired=function(n){(h.data.isDefaultLoginRequired=!0,h.credentialValue=null,h.password=null,n)&&(h.bannerErrorMessage=n,h.showErrorBanner=!0)},h.getRedirectUrl=function(n){var r=h.params.ReturnUrl,t,u;return(n&&n.tl?t={username:h.credentialValue,tl:n.tl}:n&&n.twoStepVerificationData&&(t={username:n.user.name,tl:n.twoStepVerificationData.ticket}),t)?(r?t.returnUrl=r:h.params.RedirectToHomePostLogin||(t.returnUrl=h.getCurrentLocation()),i.getAbsoluteUrl(o.urls.twoStepVerification)+s.urlQueryStringPrefix+$.param(t)):n&&(n.userId||n.user&&n.user.id)?r?(u=h.addNewLoginQueryStringToUrl(r),i.getAbsoluteUrl(u)):h.params.RedirectToHomePostLogin?h.data.homeUrl+s.urlQueryStringPrefix+$.param({nl:!0}):h.getCurrentLocation():i.getAbsoluteUrl("/")},h.getCurrentLocation=function(){var t=n.location.href,i=t?t.indexOf(s.hashSign):-1;return i>-1&&(t=t.slice(0,-1*(t.length-i))),h.addNewLoginQueryStringToUrl(t)},h.addNewLoginQueryStringToUrl=function(n){if(!n)return"/";var t=n;return t+=n.indexOf(s.urlQueryStringPrefix)>-1?s.urlQueryParameterSeparator:s.urlQueryStringPrefix,t+=o.newLoginQueryString},h.loginWithFb=function(){h.sendInteractionClickEvent(o.fbLoginButtonName),n.location.href=h.data.fbSignInUrl},h.sendInteractionClickEvent=function(n){Roblox.FormEvents&&Roblox.FormEvents.SendInteractionClick(h.params.Context,n)},h.clearError=function(){h.error=null},h.getCredentialPlaceholder=function(){return h.data.isDefaultLoginRequired?u.usernamePlaceholder:h.data.isLoginWithEmailEnabled&&h.data.isLoginWithPhoneEnabled?u.usernameEmailPhonePlaceholder:h.data.isLoginWithEmailEnabled?u.usernameEmailPlaceholder:h.data.isLoginWithPhoneEnabled?u.usernamePhonePlaceholder:u.usernamePlaceholder},h.isEmail=function(n){return n&&n.indexOf(o.atSymbol)>-1}}]);

;// ~/viewapp/widgets/login/components/loginPageComponent.js
login.component("loginPage",{templateUrl:"login-page",bindings:{params:"<"},controller:["urlConstants",function(n){var t=this;Roblox.LoginMeta&&(t.data={signupUrl:Roblox.LoginMeta.signupUrl}),t.$onInit=function(){var i=t.params.ReturnUrl,r,u;i&&(r={returnUrl:i},u=n.urlQueryStringPrefix+$.param(r),t.data.signupUrl+=u)}}]});

;// ~/viewapp/widgets/login/components/loginFormComponent.js
login.component("loginForm",{templateUrl:"login-form",bindings:{params:"<"},controller:"loginFormController"});

;// Navigation/ShopAmazon.js
Roblox=Roblox||{},Roblox.ShopAmazon=function(){function i(){$("a.roblox-shop-interstitial").on("click",function(i){i.preventDefault();var u={title:"You are leaving Roblox",accept:"Continue to Shop",decline:"Cancel",bodyContent:function(){return"<p>You are about to visit our Amazon store. You will be redirected to Roblox merchandise store on <a class='text-link' target='_blank' href='"+t+"' >Amazon.com</a>.</p> <p>Please note that you need to be over 18 to purchase products online. The Amazon store is not part of Roblox.com and is governed by a separate privacy policy.</p>"}};n&&(u={title:n.f(Roblox.Lang.ShopDialogResources["Heading.LeavingRoblox"]),accept:n.f(Roblox.Lang.ShopDialogResources["Action.ContinueToShop"]),decline:n.f(Roblox.Lang.ShopDialogResources["Action.Cancel"]),bodyContent:function(){var i="<a class='text-link' target='_blank' href='"+t+"' >Amazon.com</a>",r=n.f(Roblox.Lang.ShopDialogResources["Description.AmazonRedirect"],{shopLink:i}),u=n.f(Roblox.Lang.ShopDialogResources["Description.AgeWarning"]);return"<p>"+r+"</p><p>"+u+"</p>"}}),Roblox.Dialog.open({titleText:u.title,bodyContent:u.bodyContent(),allowHtmlContentInBody:!0,acceptText:u.accept,declineText:u.decline,xToCancel:!0,acceptColor:Roblox.Dialog.green,declineColor:Roblox.Dialog.white,onAccept:r})})}function r(){window.open(t,"_blank")}function u(){t=$("#i18nForAmazonShopSwitch").data("amazon-store-url"),n=$("#i18nForAmazonShopSwitch").data("is-i18n-enabled-for-shop-amazon-dialog")?new Roblox.Intl:!1,i()}var n,t;$(function(){u()})}();

;// GenericConfirmation.js
typeof Roblox=="undefined"&&(Roblox={}),typeof Roblox.GenericConfirmation=="undefined"&&(Roblox.GenericConfirmation=function(){function w(){n.isOpen=!1,t()}function k(t){var a,e,o,s,l;n.isOpen=!0,a={titleText:"",bodyContent:"",footerText:"",acceptText:Roblox.Resources.GenericConfirmation.yes,declineText:Roblox.Resources.GenericConfirmation.No,acceptColor:u,declineColor:f,xToCancel:!1,onAccept:function(){return!1},onDecline:function(){return!1},onCancel:function(){return!1},imageUrl:null,allowHtmlContentInBody:!1,allowHtmlContentInFooter:!1,dismissable:!0,fieldValidationRequired:!1,onOpenCallback:function(){}},t=$.extend({},a,t),c.overlayClose=t.dismissable,c.escClose=t.dismissable,e=$(i),e.html(t.acceptText),e.attr("class","btn-large "+t.acceptColor),e.unbind(),e.bind("click",function(){return v(e)?!1:(t.fieldValidationRequired?nt(t.onAccept):h(t.onAccept),!1)}),o=$(r),o.html(t.declineText),o.attr("class","btn-large "+t.declineColor),o.unbind(),o.bind("click",function(){return v(o)?!1:(h(t.onDecline),!1)}),$('[data-modal-handle="confirmation"] div.Title').text(t.titleText),s=$("[data-modal-handle='confirmation']"),t.imageUrl==null?s.addClass("noImage"):(s.find("img.GenericModalImage").attr("src",t.imageUrl),s.removeClass("noImage")),t.allowHtmlContentInBody?$("[data-modal-handle='confirmation'] div.Message").html(t.bodyContent):$("[data-modal-handle='confirmation'] div.Message").text(t.bodyContent),$.trim(t.footerText)==""?$('[data-modal-handle="confirmation"] div.ConfirmationModalFooter').hide():$('[data-modal-handle="confirmation"] div.ConfirmationModalFooter').show(),t.allowHtmlContentInFooter?$('[data-modal-handle="confirmation"] div.ConfirmationModalFooter').html(t.footerText):$('[data-modal-handle="confirmation"] div.ConfirmationModalFooter').text(t.footerText),$("[data-modal-handle='confirmation']").modal(c),l=$("a.genericmodal-close"),l.unbind(),l.bind("click",function(){return h(t.onCancel),!1}),t.xToCancel||l.hide(),t.onOpenCallback()}function a(n){n.hasClass(f)?n.addClass(s):n.hasClass(l)?n.addClass(e):n.hasClass(u)&&n.addClass(o)}function v(n){return n.hasClass(o)||n.hasClass(s)||n.hasClass(e)?!0:!1}function b(){var n=$(i),t=$(r);a(n),a(t)}function g(){var u=$(i),t=$(r),n=o+" "+s+" "+e;u.removeClass(n),t.removeClass(n)}function p(){if(n.isOpen){var t=$(i);t.click()}}function y(){var n=$(r);n.click()}function t(t){n.isOpen=!1,typeof t!="undefined"?$.modal.close(t):$.modal.close()}function h(n){t(),typeof n=="function"&&n()}function nt(n){if(typeof n=="function"){var i=n();if(i!=="undefined"&&i==!1)return!1}t()}var l="btn-primary",u="btn-neutral",f="btn-negative",e="btn-disabled-primary",o="btn-disabled-neutral",s="btn-disabled-negative",d="btn-none",i="#roblox-confirm-btn",r="#roblox-decline-btn",n={isOpen:!1},c={overlayClose:!0,escClose:!0,opacity:80,overlayCss:{backgroundColor:"#000"},onClose:w};return{open:k,close:t,disableButtons:b,enableButtons:g,clickYes:p,clickNo:y,status:n,green:l,blue:u,gray:f,none:d}}()),$(document).keypress(function(n){Roblox.GenericConfirmation.status.isOpen&&n.which===13&&Roblox.GenericConfirmation.clickYes()});

;// utilities/dialog.js
typeof Roblox=="undefined"&&(Roblox={}),typeof Roblox.Dialog=="undefined"&&(Roblox.Dialog=function(){function g(f){var k,c,v,w,o,b;n.isOpen=!0,k={titleText:"",bodyContent:"",footerText:"",acceptText:Roblox.Lang.ControlsResources["Action.Yes"]||a.Yes,declineText:Roblox.Lang.ControlsResources["Action.No"]||a.No,acceptColor:h,declineColor:s,xToCancel:!1,onAccept:function(){return!1},onDecline:function(){return!1},onCancel:function(){return!1},imageUrl:null,showAccept:!0,showDecline:!0,allowHtmlContentInBody:!1,allowHtmlContentInFooter:!1,dismissable:!0,fieldValidationRequired:!1,onOpenCallback:function(){},onCloseCallback:t,cssClass:null,checkboxAgreementText:Roblox.Lang.ControlsResources["Action.Agree"]||a.Agree,checkboxAgreementRequired:!1},f=$.extend({},k,f),i.overlayClose=f.dismissable,i.escClose=f.dismissable,f.onCloseCallback&&(i.onClose=function(){f.onCloseCallback(),t()}),c=$(u),c.html(f.acceptText),c.attr("class",f.acceptColor),c.unbind(),c.bind("click",function(){return p(c)?!1:(f.fieldValidationRequired?nt(f.onAccept):l(f.onAccept),!1)}),v=$(e),v.html(f.declineText),v.attr("class",f.declineColor),v.unbind(),v.bind("click",function(){return p(v)?!1:(l(f.onDecline),!1)}),w=$(tt),w.unbind(),w.bind("change",function(){w.is(":checked")?y(c):r(c)}),o=$('[data-modal-type="confirmation"]'),o.find(".modal-title").text(f.titleText),f.imageUrl==null?o.addClass("noImage"):(o.find("img.modal-thumb").attr("src",f.imageUrl),o.removeClass("noImage")),n.extraClass&&(o.removeClass(n.extraClass),n.extraClass=!1),f.cssClass!=null&&(o.addClass(f.cssClass),n.extraClass=f.cssClass),f.allowHtmlContentInBody?o.find(".modal-message").html(f.bodyContent):o.find(".modal-message").text(f.bodyContent),f.checkboxAgreementRequired?(r(c),o.find(".modal-checkbox.checkbox > input").prop("checked",!1),o.find(".modal-checkbox.checkbox > label").text(f.checkboxAgreementText),o.find(".modal-checkbox.checkbox").show()):(o.find(".modal-checkbox.checkbox > input").prop("checked",!0),o.find(".modal-checkbox.checkbox").hide()),$.trim(f.footerText)==""?o.find(".modal-footer").hide():o.find(".modal-footer").show(),f.allowHtmlContentInFooter?o.find(".modal-footer").html(f.footerText):o.find(".modal-footer").text(f.footerText),o.modal(i),b=$(d+" .modal-header .close"),b.unbind(),b.bind("click",function(){return l(f.onCancel),!1}),f.xToCancel||b.hide(),f.showAccept||c.hide(),f.showDecline||v.hide(),$("#rbx-body").addClass("modal-mask"),f.onOpenCallback()}function r(n){n.hasClass(s)?n.addClass(f):n.hasClass(v)?n.addClass(o):n.hasClass(h)&&n.addClass(c)}function p(n){return n.hasClass(c)||n.hasClass(f)||n.hasClass(o)?!0:!1}function rt(){var n=$(u),t=$(e);r(n),r(t)}function y(n){n.hasClass(f)?(n.removeClass(f),n.addClass(s)):n.hasClass(o)?(n.removeClass(o),n.addClass(v)):n.hasClass(c)&&(n.removeClass(c),n.addClass(h))}function w(){var n=$(u),t=$(e);y(n),y(t)}function k(){if(n.isOpen){var t=$(u);t.click()}}function b(){var n=$(e);n.click()}function t(t){n.isOpen=!1,typeof t!="undefined"?$.modal.close(t):$.modal.close(),$("#rbx-body").removeClass("modal-mask")}function l(n){t(),typeof n=="function"&&n()}function nt(n){if(typeof n=="function"){var i=n();if(i!=="undefined"&&i==!1)return!1}t()}function ut(n,t){var i=$(".modal-body");n?(i.find(".modal-btns").hide(),i.find(".modal-processing").show()):(i.find(".modal-btns").show(),i.find(".modal-processing").hide()),typeof t!="undefined"&&t!==""&&$.modal.close("."+t)}var d=".simplemodal-container",v="btn-primary-md",h="btn-secondary-md",s="btn-control-md",o="btn-primary-md disabled",c="btn-secondary-md disabled",f="btn-control-md disabled",it="btn-none",u=".modal-btns #confirm-btn",e=".modal-btns #decline-btn",tt="#modal-checkbox-input",n={isOpen:!1},i={overlayClose:!0,escClose:!0,opacity:80,zIndex:1040,overlayCss:{backgroundColor:"#000"},onClose:t,focus:!1},a={Yes:"Yes",No:"No",Agree:"Agree"};return{open:g,close:t,disableButtons:rt,enableButtons:w,clickYes:k,clickNo:b,status:n,toggleProcessing:ut,green:v,blue:h,white:s,none:it}}()),$(document).keypress(function(n){Roblox.Dialog.isOpen&&n.which===13&&Roblox.Dialog.clickYes()});

;// common/deviceMeta.js
var Roblox=Roblox||{};Roblox.DeviceMeta=function(){var t=document.querySelector('meta[name="device-meta"]');if(t===null){console.debug("Error loading device information from meta tag - please check if meta tag is present");return}var n=t.dataset||{},i={android:"android",ios:"ios",xbox:"xbox",uwp:"uwp",amazon:"amazon",unknown:"unknown"},r={computer:"computer",tablet:"tablet",phone:"phone",console:"console"};return function(){return{deviceType:r[n.deviceType]||"",appType:i[n.appType]||"",isInApp:n.isInApp==="true",isDesktop:n.isDesktop==="true",isPhone:n.isPhone==="true",isTablet:n.isTablet==="true",isConsole:n.isConsole==="true",isAndroidApp:n.isAndroidApp==="true",isIosApp:n.isIosApp==="true",isUWPApp:n.isUwpApp==="true",isXboxApp:n.isXboxApp==="true",isAmazonApp:n.isAmazonApp==="true",isStudio:n.isStudio==="true"}}}();

;//Bundle detector
Roblox && Roblox.BundleDetector && Roblox.BundleDetector.bundleDetected('page');